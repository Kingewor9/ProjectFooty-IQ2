{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\ProjectfootyIQ\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$(),\n  _s0 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { Home, Users, Trophy, User, UserPlus, ChevronLeft, ChevronDown, ChevronRight, Zap, RefreshCw, X, Check, Timer, Shield, ListOrdered, Hash, Clock, Plus, LogIn, Search, Lock, Unlock, Star, MessageSquare, ArrowUp, ArrowDown, Minus, Calendar, Settings, Clipboard, Edit, Trash2, RotateCcw, AlertTriangle,\n// FIX: Imported missing Loader icons and CheckCircle\nLoader, Loader2, CheckCircle } from 'lucide-react';\n\n// --- MOCK DATA ---\n// NOTE: In a real app, this data would be fetched from your Python/MongoDB backend.\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MOCK_USER = {\n  id: 'user_telegram_12345',\n  name: \"Alex FootyFan\",\n  username: \"@alexff\",\n  avatarUrl: \"https://placehold.co/100x100/1e293b/94a3b8?text=AF\",\n  overallScore: 14500,\n  globalRank: 47,\n  totalPlayers: 250999\n};\nconst MOCK_QUIZ_CONFIG = {\n  id: \"daily_001\",\n  name: \"Golden Boot Legends\",\n  questionsCount: 15,\n  timeLimitSeconds: 90,\n  pointsPerQuestion: 10,\n  totalPoints: 150,\n  initialExpiresIn: 86400 // 24 hours in seconds\n};\nconst MOCK_QUESTIONS = [{\n  id: 'q1',\n  text: \"Which player has won the most Ballon d'Or awards?\",\n  options: [\"Lionel Messi\", \"Cristiano Ronaldo\", \"Michel Platini\", \"Johan Cruyff\"],\n  correctAnswer: \"Lionel Messi\"\n}, {\n  id: 'q2',\n  text: \"In which year did Leicester City win the Premier League?\",\n  options: [\"2014\", \"2016\", \"2018\", \"2020\"],\n  correctAnswer: \"2016\"\n}, {\n  id: 'q3',\n  text: \"What is the official name of the stadium where FC Barcelona plays?\",\n  options: [\"Santiago BernabÃ©u\", \"San Siro\", \"Camp Nou\", \"Anfield\"],\n  correctAnswer: \"Camp Nou\"\n}, {\n  id: 'q4',\n  text: \"Which country won the FIFA World Cup in 2014?\",\n  options: [\"Brazil\", \"Argentina\", \"Germany\", \"Spain\"],\n  correctAnswer: \"Germany\"\n}, {\n  id: 'q5',\n  text: \"How many substitutes are currently permitted in a standard FIFA match?\",\n  options: [\"3\", \"5\", \"7\", \"Unlimited\"],\n  correctAnswer: \"5\"\n}];\nconst MOCK_POPULAR_LEAGUES = [{\n  id: 3,\n  name: \"Euro Elite Trivial\",\n  description: \"Test your UCL/UEL knowledge.\",\n  members: 560,\n  startsIn: 3600,\n  rank: 1\n}, {\n  id: 4,\n  name: \"Classic EPL Heads\",\n  description: \"90s and 2000s English football quiz.\",\n  members: 320,\n  startsIn: 10800,\n  rank: 2\n}, {\n  id: 5,\n  name: \"South American Soccer\",\n  description: \"Quiz on CONMEBOL teams and legends.\",\n  members: 150,\n  startsIn: 5400,\n  rank: 3\n}];\nconst MOCK_TASKS = [{\n  name: \"Join us on Telegram\",\n  points: 100,\n  action: \"Join\",\n  icon: /*#__PURE__*/_jsxDEV(MessageSquare, {\n    size: 18\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 71\n  }, this)\n}, {\n  name: \"Invite 5 friends to the game\",\n  points: 1000,\n  action: \"Invite\",\n  icon: /*#__PURE__*/_jsxDEV(Users, {\n    size: 18\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 83\n  }, this)\n}, {\n  name: \"Claim free 500 points\",\n  points: 500,\n  action: \"Claim\",\n  icon: /*#__PURE__*/_jsxDEV(Clock, {\n    size: 18\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 74\n  }, this)\n}];\n\n// --- MOCK DATA (Leaderboard - NEW) ---\nconst mockLeaderboardData = [{\n  id: 1,\n  userName: \"Anya\",\n  gamePoints: 15230,\n  currentRank: 1,\n  previousRank: 1,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=A\"\n}, {\n  id: 2,\n  userName: \"Zenith_Rider\",\n  gamePoints: 12100,\n  currentRank: 2,\n  previousRank: 4,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=ZR\"\n},\n// Rank UP\n{\n  id: 3,\n  userName: \"Shadow_Sniper\",\n  gamePoints: 11950,\n  currentRank: 3,\n  previousRank: 2,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=SS\"\n},\n// Rank DOWN\n{\n  id: 4,\n  userName: \"CodeBreaker\",\n  gamePoints: 11800,\n  currentRank: 4,\n  previousRank: 4,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=CB\"\n},\n// No Change\n{\n  id: 5,\n  userName: \"GalaxyGamer\",\n  gamePoints: 10500,\n  currentRank: 5,\n  previousRank: 7,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=GG\"\n},\n// Rank UP\n{\n  id: 6,\n  userName: \"Pixel_Pirate\",\n  gamePoints: 9800,\n  currentRank: 6,\n  previousRank: 5,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=PP\"\n},\n// Rank DOWN\n{\n  id: 7,\n  userName: \"TheArchitect\",\n  gamePoints: 7550,\n  currentRank: 7,\n  previousRank: null,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=TA\"\n},\n// New User\n{\n  id: 8,\n  userName: \"MysticMage\",\n  gamePoints: 7900,\n  currentRank: 8,\n  previousRank: 8,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=MM\"\n}, {\n  id: 9,\n  userName: \"DriftKing\",\n  gamePoints: 6500,\n  currentRank: 9,\n  previousRank: 10,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=DK\"\n},\n// Rank UP\n{\n  id: 10,\n  userName: \"LunarPhoenix\",\n  gamePoints: 5800,\n  currentRank: 10,\n  previousRank: 9,\n  avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=LP\"\n} // Rank DOWN\n];\n\n// --- Utility Functions ---\n\n/**\r\n * Triggers native device vibration for feedback.\r\n */\nconst triggerVibration = pattern => {\n  if (window.navigator && window.navigator.vibrate) {\n    // Pattern: [duration_ms, pause_ms, duration_ms, ...]\n    window.navigator.vibrate(pattern);\n  }\n};\n\n// --- COMPONENTS ---\n\n/**\r\n * Component for the persistent bottom navigation bar.\r\n */\nconst BottomNav = ({\n  currentPage,\n  setPage\n}) => {\n  const navItems = [{\n    name: 'Home',\n    icon: Home,\n    page: 'home'\n  }, {\n    name: 'League',\n    icon: Users,\n    page: 'league'\n  }, {\n    name: 'Tournament',\n    icon: Trophy,\n    page: 'tournament'\n  }, {\n    name: 'Profile',\n    icon: User,\n    page: 'profile'\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700 shadow-2xl z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-around h-16 max-w-xl mx-auto\",\n      children: navItems.map(item => {\n        const isActive = currentPage === item.page;\n        const colorClass = isActive ? 'text-indigo-400' : 'text-gray-400 hover:text-indigo-300';\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage(item.page),\n          className: `flex flex-col items-center justify-center text-xs font-medium transition-colors ${colorClass} pt-1`,\n          children: [/*#__PURE__*/_jsxDEV(item.icon, {\n            size: 24,\n            strokeWidth: isActive ? 2.5 : 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mt-1\",\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this)]\n        }, item.page, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n\n// --- LEADERBOARD HELPERS (NEW) ---\n\n/**\r\n * Component to display the rank change icon (Green Up, Red Down, Gray Dash).\r\n */\n_c = BottomNav;\nconst RankChangeIcon = ({\n  currentRank,\n  previousRank\n}) => {\n  if (previousRank === null || previousRank === undefined) {\n    // New user or initial entry\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-indigo-400 font-medium text-xs\",\n      children: \"NEW\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Rank logic: a lower number is a better rank.\n  if (currentRank < previousRank) {\n    // Went up in rank (e.g., from 5th to 3rd)\n    const diff = previousRank - currentRank;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"flex items-center text-green-500 font-bold\",\n      children: [/*#__PURE__*/_jsxDEV(ArrowUp, {\n        className: \"w-4 h-4 mr-0.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs\",\n        children: diff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this);\n  } else if (currentRank > previousRank) {\n    // Went down in rank (e.g., from 3rd to 5th)\n    const diff = currentRank - previousRank;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"flex items-center text-red-500 font-bold\",\n      children: [/*#__PURE__*/_jsxDEV(ArrowDown, {\n        className: \"w-4 h-4 mr-0.5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs\",\n        children: diff\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this);\n  } else {\n    // No change in rank\n    return /*#__PURE__*/_jsxDEV(Minus, {\n      className: \"w-4 h-4 text-gray-400\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n// --- GLOBAL LEADERBOARD COMPONENT (NEW) ---\n_c2 = RankChangeIcon;\nconst GlobalLeaderboard = ({\n  setPage\n}) => {\n  _s();\n  // Sort the mock data by gamePoints (descending) \n  const sortedData = useMemo(() => [...mockLeaderboardData].sort((a, b) => b.gamePoints - a.gamePoints), []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 p-4 pt-8 pb-20\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-xl mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage('home'),\n          className: \"flex items-center space-x-1 px-3 py-1.5 bg-gray-800 text-indigo-400 rounded-full shadow-lg border border-gray-700 hover:bg-gray-700 transition duration-150\",\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-sm\",\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-extrabold text-white flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Trophy, {\n            className: \"w-6 h-6 text-yellow-400 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 21\n          }, this), \"Global Leaderboard\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 rounded-2xl shadow-2xl border border-gray-700 overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-10 text-xs sm:text-sm font-semibold uppercase text-gray-400 bg-gray-700 p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 text-center\",\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-2 text-center\",\n            children: \"Change\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-4\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-3 text-right\",\n            children: \"Points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-gray-700\",\n          children: sortedData.map((user, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `grid grid-cols-10 items-center p-4 transition duration-200 hover:bg-gray-700/50\n                            ${index < 3 ? 'font-bold bg-gray-700/30' : 'text-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-1 text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `text-lg ${index === 0 ? 'text-yellow-400' : index === 1 ? 'text-gray-300' : index === 2 ? 'text-amber-500' : 'text-gray-400'}`,\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2 flex justify-center\",\n              children: /*#__PURE__*/_jsxDEV(RankChangeIcon, {\n                currentRank: user.currentRank,\n                previousRank: user.previousRank\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-4 flex items-center space-x-3 truncate\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: user.avatar,\n                alt: `${user.userName} Avatar`,\n                className: \"w-8 h-8 rounded-full object-cover border border-indigo-400 shadow\"\n                // Added onerror fallback in case the placeholder image fails to load\n                ,\n                onError: e => {\n                  e.target.onerror = null;\n                  e.target.src = \"https://placehold.co/40x40/6B7280/fff?text=?\";\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm sm:text-base font-semibold truncate\",\n                children: user.userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-3 text-right\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-base font-extrabold text-white\",\n                children: user.gamePoints.toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 29\n            }, this)]\n          }, user.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-6 text-center text-sm text-gray-500\",\n        children: \"Mock data is used. Red/Green icons show rank movement since the previous period.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n\n// --- PAGE COMPONENTS ---\n\n// ----------------------------------------------------\n// QUIZ PAGE (Active Quiz State - Embedded within Home Page)\n// ----------------------------------------------------\n_s(GlobalLeaderboard, \"A0jNeQRqRn3zl5kcstgyb8EJW6E=\");\n_c3 = GlobalLeaderboard;\nconst QuizPage = ({\n  questions,\n  finishQuiz,\n  overallScoreUpdater\n}) => {\n  _s2();\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [score, setScore] = useState(0);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [isChecking, setIsChecking] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(MOCK_QUIZ_CONFIG.timeLimitSeconds);\n  const currentQuestion = questions[currentQuestionIndex];\n  const totalQuestions = questions.length;\n  const progress = currentQuestionIndex / totalQuestions * 100;\n  const accuracy = totalQuestions > 0 ? (score / totalQuestions * 100).toFixed(0) : 0;\n\n  // FIX: Moved finishQuizHandler definition before the useEffect that uses it\n  // to resolve \"Cannot access 'finishQuizHandler' before initialization\" error.\n  // Cleanup and Finalize Quiz\n  const finishQuizHandler = useCallback(() => {\n    // Update user's overall score (Mocked)\n    overallScoreUpdater(score * MOCK_QUIZ_CONFIG.pointsPerQuestion);\n    finishQuiz({\n      answered: currentQuestionIndex + 1,\n      // Number of questions seen/attempted\n      correct: score,\n      points: score * MOCK_QUIZ_CONFIG.pointsPerQuestion,\n      accuracy: accuracy,\n      total: totalQuestions\n    });\n  }, [currentQuestionIndex, score, accuracy, totalQuestions, finishQuiz, overallScoreUpdater]);\n\n  // Timer Effect\n  useEffect(() => {\n    if (timeLeft <= 0) {\n      finishQuizHandler();\n      return;\n    }\n    const timer = setInterval(() => {\n      setTimeLeft(prev => prev - 1);\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [timeLeft, finishQuizHandler]);\n  const handleAnswerClick = option => {\n    if (isChecking) return;\n    setSelectedAnswer(option);\n  };\n  const checkAnswer = () => {\n    if (!selectedAnswer || isChecking) return;\n    setIsChecking(true);\n    const isCorrect = selectedAnswer === currentQuestion.correctAnswer;\n    if (isCorrect) {\n      setScore(prevScore => prevScore + 1);\n      triggerVibration(100); // Short tap for correct\n    } else {\n      triggerVibration([100, 50, 100]); // Double pulse for incorrect\n    }\n    setTimeout(() => {\n      setIsChecking(false);\n      setSelectedAnswer(null);\n      const nextIndex = currentQuestionIndex + 1;\n      if (nextIndex < totalQuestions) {\n        setCurrentQuestionIndex(nextIndex);\n      } else {\n        finishQuizHandler();\n      }\n    }, 1200); // Show result for 1.2 seconds\n  };\n\n  // Helper function to determine button styling based on state\n  const getAnswerButtonStyle = option => {\n    const isSelected = option === selectedAnswer;\n    if (!isChecking) {\n      // Default active state\n      return isSelected ? 'bg-indigo-600 text-white shadow-xl scale-[1.02]' : 'bg-gray-700 text-gray-100 hover:bg-gray-600';\n    }\n\n    // Checking/Result state\n    const isCorrectAnswer = option === currentQuestion.correctAnswer;\n    if (isCorrectAnswer) {\n      return 'bg-green-600 text-white shadow-xl ring-2 ring-green-400';\n    } else if (isSelected && !isCorrectAnswer) {\n      return 'bg-red-600 text-white shadow-xl ring-2 ring-red-400';\n    } else {\n      return 'bg-gray-700 text-gray-500 opacity-60';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 p-4 pt-10 pb-20\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6 p-4 bg-gray-800 rounded-xl shadow-lg border border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center text-white\",\n        children: [/*#__PURE__*/_jsxDEV(Timer, {\n          size: 20,\n          className: \"text-red-400 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-bold\",\n          children: formatTime(timeLeft)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm font-semibold text-gray-300\",\n        children: MOCK_QUIZ_CONFIG.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-gray-300 font-semibold text-sm mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Question \", currentQuestionIndex + 1, \" / \", totalQuestions]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Correct: \", score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-700 rounded-full h-2.5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-indigo-500 h-2.5 rounded-full transition-all duration-500\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-6 rounded-2xl shadow-2xl mb-6 border border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl font-bold text-white mb-6\",\n        children: currentQuestion.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 gap-3\",\n        children: currentQuestion.options.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAnswerClick(option),\n          disabled: isChecking,\n          className: `p-4 rounded-xl font-medium text-left transition-all duration-300 transform shadow-md text-base ${getAnswerButtonStyle(option)}`,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"flex justify-between items-center\",\n            children: [option, isChecking && option === currentQuestion.correctAnswer && /*#__PURE__*/_jsxDEV(Check, {\n              size: 20,\n              className: \"text-green-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 92\n            }, this), isChecking && option === selectedAnswer && option !== currentQuestion.correctAnswer && /*#__PURE__*/_jsxDEV(X, {\n              size: 20,\n              className: \"text-red-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 121\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 29\n          }, this)\n        }, option, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: checkAnswer,\n      disabled: !selectedAnswer || isChecking,\n      className: \"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:bg-indigo-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",\n      children: isChecking ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Loader, {\n          size: 20,\n          className: \"mr-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 25\n        }, this), \"Processing...\"]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 20,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 25\n        }, this), \"Submit & Next\"]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 344,\n    columnNumber: 9\n  }, this);\n};\n\n// ----------------------------------------------------\n// HOME PAGE (Main screen content)\n// ----------------------------------------------------\n_s2(QuizPage, \"aCVqE+MPXKwzM+DHh29TLa02ZJU=\");\n_c4 = QuizPage;\nconst HomePage = ({\n  userData,\n  setGameState,\n  quizConfig,\n  quizState,\n  overallScoreUpdater,\n  setPage\n}) => {\n  _s3();\n  const [timeLeft, setTimeLeft] = useState(quizConfig.initialExpiresIn);\n\n  // Countdown Timer for Quiz Expiration\n  useEffect(() => {\n    if (quizState.status !== 'start') return;\n    if (timeLeft <= 0) {\n      // In a real app, this would reset the quiz config from the server\n      setGameState('expired');\n      return;\n    }\n    const timer = setInterval(() => {\n      setTimeLeft(prev => prev > 0 ? prev - 1 : 0);\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [timeLeft, quizState.status, setGameState, quizConfig.initialExpiresIn]); // Added dependencies\n\n  const handleStartQuiz = () => {\n    setGameState('active');\n  };\n  const handlePlayAgain = () => {\n    // Reset local quiz timer for demonstration\n    setTimeLeft(quizConfig.initialExpiresIn);\n    setGameState('start');\n  };\n  const renderQuizCard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-800 p-5 rounded-2xl shadow-xl border border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-xl font-bold text-white mb-4 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Zap, {\n        size: 20,\n        className: \"text-yellow-400 mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 17\n      }, this), \"Today's Quiz: \", quizConfig.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4 text-sm text-gray-300 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(ListOrdered, {\n          size: 16,\n          className: \"text-indigo-400 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 52\n        }, this), \" \", quizConfig.questionsCount, \" Questions\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Timer, {\n          size: 16,\n          className: \"text-indigo-400 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 52\n        }, this), \" \", quizConfig.timeLimitSeconds, \" Seconds\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Star, {\n          size: 16,\n          className: \"text-indigo-400 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 52\n        }, this), \" \", quizConfig.totalPoints, \" Points\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 16,\n          className: \"text-indigo-400 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 52\n        }, this), \" Expires In: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-yellow-400 ml-1 font-semibold\",\n          children: formatTime(timeLeft)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 117\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleStartQuiz,\n      disabled: timeLeft <= 0,\n      className: \"w-full py-3 bg-green-600 text-white font-bold rounded-xl shadow-lg hover:bg-green-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\",\n      children: timeLeft > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 20,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 35\n        }, this), \" Start Quiz\"]\n      }, void 0, true) : \"Quiz Expired\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 446,\n    columnNumber: 9\n  }, this);\n  const renderResultsCard = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-800 p-5 rounded-2xl shadow-xl border border-gray-700 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(Trophy, {\n      size: 48,\n      className: \"text-yellow-400 mx-auto mb-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-white mb-2\",\n      children: \"Quiz Results!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-3 text-sm text-gray-200 bg-gray-700 p-4 rounded-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Answered: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-white\",\n          children: [quizState.results.answered, \" / \", quizState.results.total]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Correct: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-white\",\n          children: quizState.results.correct\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Points Earned: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-green-400\",\n          children: quizState.results.points\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Accuracy: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-semibold text-white\",\n          children: [quizState.results.accuracy, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handlePlayAgain,\n      className: \"mt-4 w-full py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition\",\n      children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n        size: 18,\n        className: \"inline mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 17\n      }, this), \" Check Back Tomorrow\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 470,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 p-4 pt-8 pb-20 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-extrabold text-white\",\n      children: [\"Welcome, \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-indigo-400\",\n        children: userData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 26\n      }, this), \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 13\n    }, this), (quizState.status === 'start' || quizState.status === 'expired') && renderQuizCard(), quizState.status === 'finished' && renderResultsCard(), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-5 rounded-2xl shadow-xl border border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium text-gray-400\",\n            children: \"Overall Score\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-4xl font-black text-yellow-400\",\n            children: userData.overallScore.toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setPage('leaderboard'),\n          className: \"flex items-center text-indigo-400 hover:text-indigo-300 font-semibold text-sm p-2 rounded-lg bg-gray-700/50\",\n          children: [\"View Leaderboard\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 18,\n            className: \"ml-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-t border-gray-700 pt-3 flex items-center text-gray-300\",\n        children: [/*#__PURE__*/_jsxDEV(ListOrdered, {\n          size: 20,\n          className: \"text-green-400 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-medium\",\n          children: [\"Global Rank: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-lg font-bold text-white\",\n            children: [\"#\", userData.globalRank.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 38\n          }, this), \" / \", userData.totalPlayers.toLocaleString(), \" players\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 489,\n    columnNumber: 9\n  }, this);\n};\n\n// ----------------------------------------------------\n// LEAGUE PAGE\n// ----------------------------------------------------\n\n// --- CONFIGURATION AND UTILITIES ---\n\n// Placeholder for API Key and Base URL\n_s3(HomePage, \"Yb6wKVpDM8Tz9vssp0TvgtfxDZA=\");\n_c5 = HomePage;\nconst API_BASE_URL = 'http://localhost:5000';\nconst apiKey = \"\";\n\n// Helper function to format a Date object into YYYY-MM-DD string\nconst formatDate = date => {\n  const d = new Date(date);\n  let month = '' + (d.getMonth() + 1);\n  let day = '' + d.getDate();\n  const year = d.getFullYear();\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n  return [year, month, day].join('-');\n};\n\n// Helper to format time (e.g., from seconds to \"1d 5h\")\nconst formatTime = seconds => {\n  if (seconds < 0) return \"League Ended\";\n  const d = Math.floor(seconds / (3600 * 24));\n  const h = Math.floor(seconds % (3600 * 24) / 3600);\n  const m = Math.floor(seconds % 3600 / 60);\n  if (d > 0) return `${d}d ${h}h`;\n  if (h > 0) return `${h}h ${m}m`;\n  return `${m}m`;\n};\n\n// Helper for generating a mock code for display if creation succeeds\nconst generateLeagueCode = () => {\n  const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n  let result = '';\n  for (let i = 0; i < 6; i++) {\n    result += characters.charAt(Math.floor(Math.random() * characters.length));\n  }\n  return result;\n};\n\n// Converts date string to time remaining in seconds\nconst calculateTimeRemaining = endDateStr => {\n  const end = new Date(endDateStr).getTime();\n  const now = Date.now();\n  return Math.max(0, Math.floor((end - now) / 1000));\n};\n\n// --- MOCK DATA ---\n\n// Mock data for league list (minimal detail)\nconst MOCK_LEAGUES = [{\n  id: 1,\n  name: \"The Champions' Circle\",\n  description: \"Elite-level strategic drafting.\",\n  isOwner: true,\n  rank: 12,\n  points: 55000,\n  members: 15\n}, {\n  id: 2,\n  name: \"Weekend Warriors\",\n  description: \"Casual, fun league with friends.\",\n  isOwner: false,\n  rank: 5,\n  points: 6200,\n  members: 8\n}];\n\n// Mock data for league details (extensive detail for the new page)\nconst MOCK_LEAGUE_DETAILS_DATA = {\n  1: {\n    id: 1,\n    name: \"The Champions' Circle\",\n    description: \"Elite-level strategic drafting. For serious players only.\",\n    isOwner: true,\n    code: \"G8H7P3\",\n    startDate: \"2025-10-01\",\n    endDate: \"2025-12-01\",\n    // End in the future\n    totalWeeks: 9,\n    currentGameWeek: 3,\n    members: [{\n      rank: 1,\n      username: \"Alice\",\n      avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=A\",\n      points: 8520,\n      rankChange: 1,\n      isMe: false\n    }, {\n      rank: 2,\n      username: \"Me (The User)\",\n      avatarUrl: \"https://placehold.co/40x40/F59E0B/black?text=ME\",\n      points: 8500,\n      rankChange: 0,\n      isMe: true\n    }, {\n      rank: 3,\n      username: \"Bob\",\n      avatarUrl: \"https://placehold.co/40x40/EF4444/white?text=B\",\n      points: 7980,\n      rankChange: -1,\n      isMe: false\n    }, {\n      rank: 4,\n      username: \"Charlie\",\n      avatarUrl: \"https://placehold.co/40x40/10B981/white?text=C\",\n      points: 7010,\n      rankChange: 2,\n      isMe: false\n    }, {\n      rank: 5,\n      username: \"David\",\n      avatarUrl: \"https://placehold.co/40x40/3B82F6/white?text=D\",\n      points: 6800,\n      rankChange: 0,\n      isMe: false\n    }],\n    recentResults: [{\n      week: 3,\n      topScorer: \"Charlie\",\n      score: 3200\n    }, {\n      week: 2,\n      topScorer: \"Alice\",\n      score: 2800\n    }, {\n      week: 1,\n      topScorer: \"Me (The User)\",\n      score: 2500\n    }],\n    isEnded: false,\n    winner: null\n  },\n  2: {\n    id: 2,\n    name: \"Weekend Warriors\",\n    description: \"Casual, fun league with friends.\",\n    isOwner: false,\n    code: \"J6K9L1\",\n    startDate: \"2025-09-01\",\n    endDate: \"2025-10-01\",\n    // End in the past\n    totalWeeks: 4,\n    currentGameWeek: 4,\n    members: [{\n      rank: 1,\n      username: \"WinnerBoss\",\n      avatarUrl: \"https://placehold.co/40x40/14B8A6/white?text=W\",\n      points: 10520,\n      rankChange: 0,\n      isMe: false\n    }, {\n      rank: 2,\n      username: \"Me (The User)\",\n      avatarUrl: \"https://placehold.co/40x40/F59E0B/black?text=ME\",\n      points: 6200,\n      rankChange: 0,\n      isMe: true\n    }, {\n      rank: 3,\n      username: \"Zeta\",\n      avatarUrl: \"https://placehold.co/40x40/FBBF24/black?text=Z\",\n      points: 5980,\n      rankChange: 0,\n      isMe: false\n    }],\n    recentResults: [{\n      week: 4,\n      topScorer: \"WinnerBoss\",\n      score: 3000\n    }, {\n      week: 3,\n      topScorer: \"Zeta\",\n      score: 2000\n    }, {\n      week: 2,\n      topScorer: \"WinnerBoss\",\n      score: 3500\n    }],\n    isEnded: true,\n    winner: \"WinnerBoss\"\n  }\n};\n\n// --- AUTH LOGIC (Telegram Ready) ---\n\n/**\r\n * Checks for the Telegram User ID. If not found (i.e., running locally), \r\n * it generates a mock ID.\r\n */\nconst getUserId = () => {\n  var _window$Telegram, _window$Telegram$WebA, _window$Telegram$WebA2;\n  const tgUser = (_window$Telegram = window.Telegram) === null || _window$Telegram === void 0 ? void 0 : (_window$Telegram$WebA = _window$Telegram.WebApp) === null || _window$Telegram$WebA === void 0 ? void 0 : (_window$Telegram$WebA2 = _window$Telegram$WebA.initDataUnsafe) === null || _window$Telegram$WebA2 === void 0 ? void 0 : _window$Telegram$WebA2.user;\n\n  // If running inside Telegram, use the real user ID\n  if (tgUser && tgUser.id) {\n    return {\n      id: tgUser.id.toString(),\n      source: 'Telegram'\n    };\n  }\n\n  // Fallback for local development\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let id = 'user-';\n  for (let i = 0; i < 20; i++) {\n    id += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return {\n    id: id,\n    source: 'Mock'\n  };\n};\n\n// --- API FETCH UTILITIES WITH EXPONENTIAL BACKOFF ---\n\nconst MAX_RETRIES = 3;\n\n/**\r\n * Handles API fetch requests with exponential backoff for retries.\r\n */\nconst fetchWithRetry = async (url, options, retryCount = 0) => {\n  try {\n    const response = await fetch(url, options);\n    if (response.status === 429 && retryCount < MAX_RETRIES) {\n      const delay = Math.pow(2, retryCount) * 1000;\n      console.warn(`Rate limit hit. Retrying in ${delay}ms...`);\n      await new Promise(resolve => setTimeout(resolve, delay));\n      return fetchWithRetry(url, options, retryCount + 1);\n    }\n    return response;\n  } catch (error) {\n    if (retryCount < MAX_RETRIES) {\n      const delay = Math.pow(2, retryCount) * 1000;\n      console.error(`Network error: ${error.message}. Retrying in ${delay}ms...`);\n      await new Promise(resolve => setTimeout(resolve, delay));\n      return fetchWithRetry(url, options, retryCount + 1);\n    }\n    throw new Error('Failed to fetch data after multiple retries.');\n  }\n};\n\n/**\r\n * Executes a POST request to create a league.\r\n * Route: POST /api/leagues/create\r\n */\nconst createLeague = async (data, userId) => {\n  const url = `${API_BASE_URL}/api/leagues/create?key=${apiKey}`;\n  const payload = {\n    name: data.name,\n    description: data.description || '',\n    is_public: !data.is_private,\n    creator_id: userId // CRITICAL: Identify the user\n  };\n  const response = await fetchWithRetry(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(result.error || 'Failed to create league.');\n  }\n  return result; // Should return { league_id, join_code }\n};\n\n/**\r\n * Executes a POST request to check a join code.\r\n * Route: POST /api/leagues/join/check\r\n */\nconst checkJoinCode = async (code, userId) => {\n  const url = `${API_BASE_URL}/api/leagues/join/check?key=${apiKey}`;\n  const payload = {\n    code,\n    user_id: userId\n  };\n  const response = await fetchWithRetry(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(result.error || 'Invalid or expired league code.');\n  }\n  return result; // Should return { league_id, name, description }\n};\n\n/**\r\n * Executes a POST request to confirm joining a league.\r\n * Route: POST /api/leagues/join/confirm\r\n */\nconst confirmJoin = async (leagueId, userId) => {\n  const url = `${API_BASE_URL}/api/leagues/join/confirm?key=${apiKey}`;\n  const payload = {\n    league_id: leagueId,\n    user_id: userId\n  };\n  const response = await fetchWithRetry(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  });\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(result.error || 'Failed to join league.');\n  }\n  return result; // Should return { message: 'Successfully joined league.' }\n};\n\n/**\r\n * Executes a GET request to search public leagues.\r\n * Route: GET /api/league/search?query=...\r\n */\nconst searchPublicLeagues = async term => {\n  if (!term) return [];\n  const url = `${API_BASE_URL}/api/league/search?query=${encodeURIComponent(term)}&key=${apiKey}`;\n  const response = await fetchWithRetry(url, {\n    method: 'GET'\n  });\n  const result = await response.json();\n  if (!response.ok) {\n    console.error(\"Search API Error:\", result.error || 'Unknown search error');\n    return [];\n  }\n  return result;\n};\n\n// --- UI COMPONENTS ---\n\nconst Modal = ({\n  title,\n  onClose,\n  children\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-6 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700 transform transition-all duration-300 scale-100\",\n      onClick: e => e.stopPropagation() // Prevent closing when clicking inside modal\n      ,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-start mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-white\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-white transition\",\n          children: /*#__PURE__*/_jsxDEV(Plus, {\n            size: 24,\n            className: \"transform rotate-45\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 795,\n        columnNumber: 17\n      }, this), children]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 791,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 790,\n    columnNumber: 9\n  }, this);\n};\n\n// --- LEAGUE FORM COMPONENT ---\n_c6 = Modal;\nconst LeagueForm = ({\n  type: initialType = 'create',\n  onClose,\n  userId,\n  refreshLeagues\n}) => {\n  _s4();\n  // Local controlled type so the form can switch between Create/Join tabs\n  const [type, setType] = useState(initialType);\n  const [leagueName, setLeagueName] = useState('');\n  const [description, setDescription] = useState('');\n  const [isPrivate, setIsPrivate] = useState(false);\n\n  // NEW STATES for Dynamic League Settings\n  const [numberOfWeeks, setNumberOfWeeks] = useState(null);\n  const [showWeeksCollapse, setShowWeeksCollapse] = useState(false);\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState(''); // Calculated read-only field\n\n  const [joinCode, setJoinCode] = useState('');\n  const [foundLeague, setFoundLeague] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  // NEW STATES for Join Workflow\n  const [showJoinConfirmation, setShowJoinConfirmation] = useState(false);\n  const [showJoinSuccess, setShowJoinSuccess] = useState(false);\n\n  // Get today's date for minimum date input value\n  const today = new Date();\n  const minDate = formatDate(today);\n\n  // Effect to calculate the End Date dynamically\n  useEffect(() => {\n    if (startDate && numberOfWeeks > 0) {\n      // Create a Date object from the YYYY-MM-DD string\n      const start = new Date(startDate);\n\n      // Add one day to account for potential timezone shifts when creating the Date object\n      // This ensures the calculation starts from the intended day.\n      start.setDate(start.getDate() + 1);\n\n      // Total days to add: Weeks * 7 days\n      const daysToAdd = numberOfWeeks * 7;\n\n      // The league ends on the last day of the final week, so we add (daysToAdd - 1) days to the start date.\n      const end = new Date(start);\n      end.setDate(end.getDate() + daysToAdd - 1);\n\n      // Format and set the calculated end date\n      setEndDate(formatDate(end));\n    } else {\n      setEndDate(''); // Clear end date if inputs are missing\n    }\n  }, [startDate, numberOfWeeks]);\n\n  // Reset state when the prop initialType changes (e.g., parent toggles Create/Join)\n  useEffect(() => {\n    setType(initialType);\n    setLeagueName('');\n    setDescription('');\n    setIsPrivate(false);\n    setNumberOfWeeks(null);\n    setStartDate('');\n    setEndDate('');\n    setJoinCode('');\n    setFoundLeague(null);\n    setMessage('');\n    setIsSuccess(false);\n    setIsLoading(false);\n    setShowJoinConfirmation(false);\n    setShowJoinSuccess(false);\n  }, [initialType]);\n  const handleCreateSubmit = async () => {\n    // --- UPDATED VALIDATION: Check for all required fields ---\n    if (!leagueName) {\n      setMessage('League name is required.');\n      return;\n    }\n    if (!numberOfWeeks || !startDate) {\n      setMessage('Both the Number of Game Weeks and Start Date are required.');\n      return;\n    }\n    // End date should always be set if the above two are set, but checking it ensures data consistency\n    if (!endDate) {\n      setMessage('Error calculating end date. Please check your start date selection.');\n      return;\n    }\n    setIsLoading(true);\n    setMessage('');\n    setIsSuccess(false);\n    const leagueData = {\n      name: leagueName,\n      description,\n      is_private: isPrivate,\n      // NEW DATA FOR SUBMISSION\n      duration_weeks: numberOfWeeks,\n      start_date: startDate,\n      end_date: endDate\n    };\n    try {\n      const result = await createLeague(leagueData, userId);\n      const generatedCode = result.join_code || generateLeagueCode();\n      setMessage(/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"font-semibold\",\n        children: [\"League \\\"\", leagueName, \"\\\" created successfully!\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 21\n        }, this), \"Share this code: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-yellow-300\",\n          children: generatedCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 43\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 17\n      }, this));\n      setIsSuccess(true);\n      refreshLeagues();\n      setTimeout(onClose, 4000);\n    } catch (error) {\n      setMessage(error.message || 'Error creating league. Check server connection.');\n      setIsSuccess(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // SECTION 2: The League Search/Check Function (Updated)\n  const handleJoinCheck = async () => {\n    // Reset confirmation/success state before checking\n    setShowJoinConfirmation(false);\n    setShowJoinSuccess(false);\n    if (joinCode.length !== 6) {\n      setMessage('Please enter a 6-character code.');\n      return;\n    }\n    setIsLoading(true);\n    setMessage('');\n    setIsSuccess(false);\n    setFoundLeague(null);\n    try {\n      const league = await checkJoinCode(joinCode, userId);\n      if (league.is_member) {\n        // If user is already a member, show an error message.\n        setMessage(`You are already a member of ${league.name}.`);\n        setIsSuccess(false);\n      } else {\n        // League found and user is not a member: Start confirmation flow.\n        setFoundLeague(league);\n        setShowJoinConfirmation(true); // Trigger Popup 1\n        setMessage(`Found League: ${league.name}. Confirm to join.`);\n        setIsSuccess(true);\n      }\n    } catch (error) {\n      setMessage(error.message || 'League not found or code is invalid.');\n      setIsSuccess(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // NEW FUNCTION: Handles 'Yes' click on Confirmation Pop-up (Popup 1)\n  const handleConfirmPublicJoin = async () => {\n    if (!foundLeague) return;\n\n    // Reset Popup 1\n    setShowJoinConfirmation(false);\n    setIsLoading(true);\n    setMessage('');\n    setIsSuccess(false);\n    try {\n      await confirmJoin(foundLeague.league_id, userId);\n\n      // Success: Trigger Popup 2 and update league list\n      refreshLeagues();\n      setShowJoinSuccess(true);\n    } catch (error) {\n      // Failure: Go back to search screen with error message\n      setMessage(error.message || 'Error confirming join request.');\n      setIsSuccess(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Backwards-compatible wrapper expected by some handlers\n  const handleConfirmJoin = async () => {\n    return handleConfirmPublicJoin();\n  };\n\n  // NEW FUNCTION: Function to handle the final closing action after success (Popup 2)\n  const handleCloseSuccess = () => {\n    setFoundLeague(null);\n    setShowJoinSuccess(false);\n    onClose();\n  };\n  const renderCreateForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"League Name (Required)\",\n      value: leagueName,\n      onChange: e => setLeagueName(e.target.value),\n      className: \"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none\",\n      disabled: isLoading || isSuccess,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1012,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Description (Optional)\",\n      value: description,\n      onChange: e => setDescription(e.target.value),\n      className: \"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none resize-none\",\n      rows: \"2\",\n      disabled: isLoading || isSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1021,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => setShowWeeksCollapse(!showWeeksCollapse),\n        className: \"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none flex justify-between items-center text-left hover:bg-gray-600 transition\",\n        disabled: isLoading || isSuccess,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: `${!numberOfWeeks ? 'text-gray-400' : 'font-medium'}`,\n          children: numberOfWeeks ? `${numberOfWeeks} Game Week${numberOfWeeks > 1 ? 's' : ''}` : 'Number of Game Weeks (Required)'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1038,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n          size: 20,\n          className: `text-indigo-400 transform transition-transform ${showWeeksCollapse ? 'rotate-180' : ''}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 17\n      }, this), showWeeksCollapse && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute w-full mt-1 bg-gray-700 rounded-lg shadow-2xl border border-indigo-500/50 overflow-hidden\",\n        children: [1, 2, 3, 4, 5].map(week => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNumberOfWeeks(week);\n            setShowWeeksCollapse(false);\n          },\n          className: `w-full text-left p-3 text-gray-200 hover:bg-indigo-600 transition ${numberOfWeeks === week ? 'bg-indigo-700 font-bold' : ''}`,\n          disabled: isLoading || isSuccess,\n          children: [\"Week \", week]\n        }, week, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1046,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1044,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1031,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs text-gray-400 block mb-1 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 12,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1066,\n            columnNumber: 91\n          }, this), \" Start Date (Required)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1066,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: startDate,\n          min: formatDate(new Date()) // Minimum date is today's date\n          ,\n          onChange: e => setStartDate(e.target.value),\n          className: \"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none\",\n          disabled: isLoading || isSuccess,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1067,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1065,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs text-gray-400 block mb-1 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 12,\n            className: \"mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 91\n          }, this), \" Calculated End Date\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1078,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: endDate,\n          readOnly: true,\n          className: \"w-full p-3 bg-gray-700 text-gray-400 rounded-lg border-none cursor-default\",\n          disabled: true // Use disabled for grayed out read-only style\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1079,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1077,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1064,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"private-league\",\n        type: \"checkbox\",\n        checked: isPrivate,\n        onChange: e => setIsPrivate(e.target.checked),\n        className: \"w-4 h-4 text-indigo-600 bg-gray-700 rounded border-gray-600 focus:ring-indigo-500\",\n        disabled: isLoading || isSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"private-league\",\n        className: \"ml-2 text-sm font-medium text-gray-300\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"flex items-center\",\n          children: [\"This league is a private league \", isPrivate ? /*#__PURE__*/_jsxDEV(Lock, {\n            size: 12,\n            className: \"ml-1 text-red-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1101,\n            columnNumber: 70\n          }, this) : /*#__PURE__*/_jsxDEV(Unlock, {\n            size: 12,\n            className: \"ml-1 text-green-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1101,\n            columnNumber: 120\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1099,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1090,\n      columnNumber: 13\n    }, this), !isSuccess && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCreateSubmit,\n      className: \"w-full py-3 bg-yellow-500 text-gray-900 font-bold rounded-xl hover:bg-yellow-400 transition disabled:opacity-50 flex items-center justify-center\",\n      disabled: isLoading || !leagueName || !numberOfWeeks || !startDate,\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"animate-spin mr-2\",\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1111,\n        columnNumber: 34\n      }, this) : 'Create League'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1106,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1011,\n    columnNumber: 9\n  }, this);\n  const renderJoinForm = () => {\n    // --- 1. SUCCESS POP-UP VIEW (Highest Priority) ---\n    if (showJoinSuccess && foundLeague) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center p-8 bg-gray-900/50 rounded-2xl border-2 border-green-500 space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          size: 48,\n          className: \"text-green-400 animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-3xl font-extrabold text-white text-center\",\n          children: \"CONGRATULATIONS!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-300 text-lg\",\n          children: [\"You successfully joined \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-yellow-400 font-bold\",\n            children: foundLeague.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1128,\n            columnNumber: 49\n          }, this), \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-sm text-gray-400\",\n          children: \"Check the \\\"My Leagues\\\" tab to view the league details.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCloseSuccess,\n          className: \"w-full py-3 mt-4 bg-green-600 text-white font-bold rounded-xl hover:bg-green-500 transition shadow-lg shadow-green-600/30\",\n          children: \"Great, I'm Ready!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1133,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1122,\n        columnNumber: 17\n      }, this);\n    }\n\n    // --- 2. CONFIRMATION POP-UP VIEW (Second Highest Priority) ---\n    if (showJoinConfirmation && foundLeague) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center p-6 bg-gray-700 rounded-2xl border border-indigo-500/50 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          size: 36,\n          className: \"text-yellow-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-white text-center\",\n          children: [\"Do you want to join \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-yellow-400\",\n            children: foundLeague.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1149,\n            columnNumber: 45\n          }, this), \"?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1148,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-300 text-center\",\n          children: [\"This league currently has **\", foundLeague.member_count || 1, \"** members.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4 w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              // Cancel: Go back to search by clearing confirmation state\n              setShowJoinConfirmation(false);\n              setFoundLeague(null);\n              setMessage(\"Confirmation cancelled. Enter a new code to search.\");\n              setIsSuccess(false);\n            },\n            className: \"w-1/2 py-3 bg-gray-500 text-white font-bold rounded-xl hover:bg-gray-400 transition disabled:opacity-50\",\n            disabled: isLoading,\n            children: \"No, Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleConfirmJoin // Renamed from handleConfirmPublicJoin to match user's original hook name\n            ,\n            className: \"w-1/2 py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition disabled:opacity-50 flex items-center justify-center\",\n            disabled: isLoading,\n            children: [isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"animate-spin mr-2\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 42\n            }, this) : /*#__PURE__*/_jsxDEV(UserPlus, {\n              size: 20,\n              className: \"mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 96\n            }, this), isLoading ? 'Joining...' : 'Yes, Join!']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1168,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1154,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1146,\n        columnNumber: 17\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"6 Digit Alpha-Numeric Code\",\n        maxLength: 6,\n        value: joinCode,\n        onChange: e => {\n          setJoinCode(e.target.value.toUpperCase().slice(0, 6));\n          // Clear state whenever code is typed\n          setFoundLeague(null);\n          setShowJoinConfirmation(false);\n          setShowJoinSuccess(false);\n          setMessage(null);\n        },\n        className: \"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none uppercase tracking-widest\",\n        disabled: isLoading || foundLeague\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1186,\n        columnNumber: 13\n      }, this), foundLeague && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-gray-700 border border-green-500 rounded-lg space-y-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-green-400 font-semibold\",\n          children: \"League Found:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1205,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-white\",\n          children: foundLeague.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1206,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-400\",\n          children: foundLeague.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1207,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-400 mt-2\",\n          children: [\"Current Members: **\", foundLeague.member_count, \"**\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1208,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1204,\n        columnNumber: 17\n      }, this), !foundLeague ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleJoinCheck,\n        className: \"w-full py-3 bg-yellow-500 text-gray-900 font-bold rounded-xl hover:bg-yellow-400 transition disabled:opacity-50\",\n        disabled: isLoading || joinCode.length !== 6 || foundLeague !== null,\n        children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"animate-spin\",\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1218,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(Search, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1218,\n          columnNumber: 82\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1213,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        // This button now triggers the Confirmation Pop-up instead of directly joining\n        onClick: () => setShowJoinConfirmation(true),\n        className: \"w-full py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition disabled:opacity-50 shadow-lg shadow-green-600/30\",\n        disabled: isLoading,\n        children: \"Confirm Join\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1221,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1183,\n      columnNumber: 13\n    }, this);\n  };\n\n  // SECTION 3: The Main Modal/Form Rendering (JSX) - Global Wrapper\n  // Note: The two check/success/confirmation popups (1 & 2 above) completely replace the content of this\n  // inner div when their respective conditions are met.\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-gray-900 bg-opacity-80 flex justify-center items-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-6 rounded-3xl w-full max-w-lg shadow-2xl space-y-6 transform transition-all\",\n      children: [!showJoinConfirmation && !showJoinSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-extrabold text-white\",\n          children: type === 'create' ? 'Create New League' : 'Join Existing League'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1244,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-400 hover:text-white transition p-2 rounded-full hover:bg-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1251,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1247,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1243,\n        columnNumber: 21\n      }, this), !showJoinConfirmation && !showJoinSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex bg-gray-700 rounded-xl p-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setType('create'),\n          className: `flex-1 py-2 rounded-lg font-semibold transition ${type === 'create' ? 'bg-indigo-600 text-white' : 'text-gray-300 hover:bg-gray-600'}`,\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1259,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setType('join'),\n          className: `flex-1 py-2 rounded-lg font-semibold transition ${type === 'join' ? 'bg-indigo-600 text-white' : 'text-gray-300 hover:bg-gray-600'}`,\n          children: \"Join\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1265,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1258,\n        columnNumber: 21\n      }, this), type === 'create' ? renderCreateForm() : renderJoinForm(), message && !showJoinConfirmation && !showJoinSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 rounded-xl text-center text-sm font-medium transition-all duration-300 ${isSuccess ? 'bg-green-900/50 text-green-300 border border-green-600' : 'bg-red-900/50 text-red-300 border border-red-600'}`,\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1280,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1239,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1238,\n    columnNumber: 9\n  }, this);\n};\n\n// --- LEAGUE DETAILS PAGE COMPONENTS ---\n_s4(LeagueForm, \"KS7aFNINXVrreX2yB+aM8w4JnSg=\");\n_c7 = LeagueForm;\nconst RankIndicator = ({\n  rankChange\n}) => {\n  if (rankChange > 0) {\n    return /*#__PURE__*/_jsxDEV(ArrowUp, {\n      size: 16,\n      className: \"text-green-500 ml-1 flex-shrink-0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1296,\n      columnNumber: 16\n    }, this);\n  }\n  if (rankChange < 0) {\n    return /*#__PURE__*/_jsxDEV(ArrowDown, {\n      size: 16,\n      className: \"text-red-500 ml-1 flex-shrink-0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1299,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Minus, {\n    size: 16,\n    className: \"text-gray-400 ml-1 flex-shrink-0\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1301,\n    columnNumber: 12\n  }, this);\n};\n_c8 = RankIndicator;\nconst StandingsTab = ({\n  league\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"space-y-4\",\n  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n    className: \"text-xl font-bold text-white mb-4 border-b border-gray-700 pb-2\",\n    children: \"The Competition\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1306,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-3\",\n    children: league.members.sort((a, b) => a.rank - b.rank).map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `p-3 rounded-xl flex items-center justify-between ${member.isMe ? 'bg-indigo-900 border border-indigo-500 shadow-lg' : 'bg-gray-800 border border-gray-700'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center w-1/4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-2xl font-extrabold text-yellow-400 mr-2\",\n          children: [\"#\", member.rank]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1314,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(RankIndicator, {\n          rankChange: member.rankChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1315,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1313,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center flex-grow\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: member.avatarUrl,\n          alt: member.username,\n          className: \"w-8 h-8 rounded-full object-cover mr-3 border-2 border-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1320,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `font-semibold ${member.isMe ? 'text-yellow-300' : 'text-white'}`,\n          children: member.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1321,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1319,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right w-1/4\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-lg font-bold text-green-400\",\n          children: member.points.toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-400\",\n          children: \"Pts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1327,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1325,\n        columnNumber: 21\n      }, this)]\n    }, member.username, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1311,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1309,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"w-full py-3 bg-gray-700 text-white font-semibold rounded-xl hover:bg-gray-600 transition flex items-center justify-center mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(ListOrdered, {\n      size: 18,\n      className: \"mr-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1334,\n      columnNumber: 13\n    }, this), \" Export Standings to Sheets\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1333,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 1305,\n  columnNumber: 5\n}, this);\n_c9 = StandingsTab;\nconst ProgressScheduleTab = ({\n  league\n}) => {\n  _s5();\n  const timeRemaining = useTimeRemaining(league.endDate);\n  const isEnded = timeRemaining === 0;\n  const gameWeekStatus = `Game Week ${league.currentGameWeek} / ${league.totalWeeks}`;\n  const progressPercent = league.currentGameWeek / league.totalWeeks * 100;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-bold text-white mb-4 border-b border-gray-700 pb-2\",\n      children: \"The Timeline\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1348,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-gray-800 rounded-xl border border-gray-700 shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-semibold text-gray-300\",\n          children: \"League Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1353,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-bold text-indigo-400\",\n          children: gameWeekStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1354,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1352,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-700 rounded-full h-2.5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-indigo-500 h-2.5 rounded-full transition-all duration-1000\",\n          style: {\n            width: `${progressPercent}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1357,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1356,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1351,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-gray-800 rounded-xl border border-gray-700 shadow-md text-center\",\n      children: isEnded ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Trophy, {\n          size: 32,\n          className: \"text-yellow-500 mb-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1368,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-300\",\n          children: \"Final Winner:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1369,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-3xl font-extrabold text-yellow-400\",\n          children: league.winner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1367,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 32,\n          className: \"text-red-500 mb-2 animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1374,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-300\",\n          children: \"League Ends In:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1375,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-3xl font-extrabold text-white\",\n          children: formatTime(timeRemaining)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1376,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1373,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1365,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-lg font-bold text-gray-200 mt-6 border-b border-gray-700 pb-1\",\n      children: \"Recent Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1382,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: league.recentResults.map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center p-3 bg-gray-800 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-400\",\n          children: [\"Game Week \", result.week]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1386,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-white font-semibold\",\n            children: result.topScorer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1388,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-green-400\",\n            children: [result.score.toLocaleString(), \" Pts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1389,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1387,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1385,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1383,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"w-full py-3 bg-gray-700 text-white font-semibold rounded-xl hover:bg-gray-600 transition flex items-center justify-center mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(ListOrdered, {\n        size: 18,\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1396,\n        columnNumber: 17\n      }, this), \" Export Full Schedule\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1395,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1347,\n    columnNumber: 9\n  }, this);\n};\n_s5(ProgressScheduleTab, \"44i3RtGHdxMF34MuUKbqZ1VSP2M=\", false, function () {\n  return [useTimeRemaining];\n});\n_c0 = ProgressScheduleTab;\nconst InfoSettingsTab = ({\n  league\n}) => {\n  _s6();\n  const [copyMessage, setCopyMessage] = useState('');\n  const handleCopyCode = () => {\n    // Use modern clipboard API or fallback\n    if (navigator.clipboard) {\n      navigator.clipboard.writeText(league.code).then(() => {\n        setCopyMessage('Code copied!');\n        setTimeout(() => setCopyMessage(''), 2000);\n      });\n    } else {\n      // Fallback for older browsers (or if running in restrictive iframe)\n      const el = document.createElement('textarea');\n      el.value = league.code;\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand('copy');\n      document.body.removeChild(el);\n      setCopyMessage('Code copied!');\n      setTimeout(() => setCopyMessage(''), 2000);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl font-bold text-white mb-4 border-b border-gray-700 pb-2\",\n      children: \"Administration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1427,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-gray-800 rounded-xl border border-gray-700 shadow-md flex flex-col items-center space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm font-semibold text-gray-400\",\n        children: \"Invite Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1431,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-5xl font-extrabold text-yellow-400 tracking-widest\",\n        children: league.code\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1432,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCopyCode,\n        className: \"flex items-center justify-center py-2 px-6 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition\",\n        children: [/*#__PURE__*/_jsxDEV(Clipboard, {\n          size: 18,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1437,\n          columnNumber: 21\n        }, this), \" \", copyMessage || 'Copy Code']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1433,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1430,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-lg font-bold text-gray-200 mt-6 border-b border-gray-700 pb-1 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Calendar, {\n        size: 16,\n        className: \"mr-2 text-indigo-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1442,\n        columnNumber: 114\n      }, this), \" Key Dates\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1442,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-800 rounded-lg text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-400\",\n          children: \"Start Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1445,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-semibold text-white\",\n          children: new Date(league.startDate).toLocaleDateString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1446,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1444,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-gray-800 rounded-lg text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-400\",\n          children: \"End Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1449,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-semibold text-white\",\n          children: new Date(league.endDate).toLocaleDateString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1450,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1448,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-2 p-3 bg-gray-800 rounded-lg text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-400\",\n          children: \"Total Game Weeks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1453,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-semibold text-white\",\n          children: league.totalWeeks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1454,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1452,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1443,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"text-lg font-bold text-gray-200 mt-6 border-b border-gray-700 pb-1 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Users, {\n        size: 16,\n        className: \"mr-2 text-indigo-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1459,\n        columnNumber: 114\n      }, this), \" Members (\", league.members.length, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1459,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-1 max-h-40 overflow-y-auto pr-2\",\n      children: league.members.map(member => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center p-2 bg-gray-800 rounded-lg border border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: member.avatarUrl,\n            alt: member.username,\n            className: \"w-6 h-6 rounded-full object-cover mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1464,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm ${member.isMe ? 'text-yellow-300 font-bold' : 'text-white'}`,\n            children: member.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1465,\n            columnNumber: 29\n          }, this), member.rank === 1 && /*#__PURE__*/_jsxDEV(Trophy, {\n            size: 14,\n            className: \"ml-2 text-yellow-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1466,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1463,\n          columnNumber: 25\n        }, this), league.isOwner && !member.isMe && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-red-400 hover:text-red-500 transition p-1 rounded-full bg-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(Trash2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1472,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1471,\n          columnNumber: 29\n        }, this)]\n      }, member.username, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1462,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1460,\n      columnNumber: 13\n    }, this), league.isOwner && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pt-4 space-y-3 border-t border-gray-700 mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-lg font-bold text-red-300\",\n        children: \"Owner Actions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1482,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(Edit, {\n          size: 18,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1486,\n          columnNumber: 25\n        }, this), \" Edit League Details\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1485,\n        columnNumber: 21\n      }, this), league.isEnded ? /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"w-full py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n          size: 18,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1492,\n          columnNumber: 29\n        }, this), \" Restart League (Reset Standings)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1491,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 bg-yellow-900 text-yellow-300 text-sm rounded-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n          size: 18,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1496,\n          columnNumber: 29\n        }, this), \" Restart option appears when the league ends.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1495,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1481,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1426,\n    columnNumber: 9\n  }, this);\n};\n_s6(InfoSettingsTab, \"ibptj8SoHi+jXchKwRrHBQixlNI=\");\n_c1 = InfoSettingsTab;\nconst LeagueDetailsPage = ({\n  leagueId,\n  onBack,\n  userId\n}) => {\n  _s7();\n  const league = MOCK_LEAGUE_DETAILS_DATA[leagueId] || MOCK_LEAGUE_DETAILS_DATA[1]; // Load mock details\n\n  const [activeTab, setActiveTab] = useState('standings'); // standings, progress, info\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'standings':\n        return /*#__PURE__*/_jsxDEV(StandingsTab, {\n          league: league\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1513,\n          columnNumber: 24\n        }, this);\n      case 'progress':\n        return /*#__PURE__*/_jsxDEV(ProgressScheduleTab, {\n          league: league\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1515,\n          columnNumber: 24\n        }, this);\n      case 'info':\n        return /*#__PURE__*/_jsxDEV(InfoSettingsTab, {\n          league: league\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1517,\n          columnNumber: 24\n        }, this);\n      default:\n        return null;\n    }\n  };\n  const tabClasses = tab => `flex-1 py-3 text-sm font-bold rounded-t-lg transition-colors ${activeTab === tab ? 'bg-gray-800 text-yellow-400 border-b-4 border-yellow-400' : 'text-gray-400 hover:text-white hover:bg-gray-700'}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 max-w-2xl mx-auto font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"sticky top-0 bg-gray-900/95 backdrop-blur-sm p-4 border-b border-gray-800 z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"absolute left-4 top-1/2 transform -translate-y-1/2 p-2 text-white hover:text-yellow-400 transition\",\n        children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1538,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1534,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-extrabold text-white text-center truncate px-10\",\n        children: league.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1540,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 text-center\",\n        children: league.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1541,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1533,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex bg-gray-900 border-b border-gray-700 sticky top-[68px] z-10 text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('standings'),\n        className: tabClasses('standings'),\n        children: [/*#__PURE__*/_jsxDEV(ListOrdered, {\n          size: 16,\n          className: \"inline mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1547,\n          columnNumber: 21\n        }, this), \" Standings\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1546,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('progress'),\n        className: tabClasses('progress'),\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 16,\n          className: \"inline mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1550,\n          columnNumber: 21\n        }, this), \" Timeline\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1549,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setActiveTab('info'),\n        className: tabClasses('info'),\n        children: [/*#__PURE__*/_jsxDEV(Settings, {\n          size: 16,\n          className: \"inline mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1553,\n          columnNumber: 21\n        }, this), \" Info\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1552,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1545,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"p-4 pt-6 pb-20\",\n      children: renderTabContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1558,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1531,\n    columnNumber: 9\n  }, this);\n};\n\n// Custom Hook to manage countdown timer\n_s7(LeagueDetailsPage, \"QqS0or4fuv/k1tKVzjXYuDxFeNY=\");\n_c10 = LeagueDetailsPage;\nconst useTimeRemaining = endDateStr => {\n  _s8();\n  const [time, setTime] = useState(() => calculateTimeRemaining(endDateStr));\n  useEffect(() => {\n    if (time <= 0) return;\n    const interval = setInterval(() => {\n      setTime(prevTime => {\n        if (prevTime <= 1) {\n          clearInterval(interval);\n          return 0;\n        }\n        return prevTime - 1;\n      });\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [endDateStr, time]);\n  return time;\n};\n\n// --- LEAGUE MAIN APP COMPONENT ---\n_s8(useTimeRemaining, \"nNEi7b1/fMCX2fX/+FtQcJvyOdc=\");\nconst LeaguePage = () => {\n  _s9();\n  // League Hub States\n  const [userLeagues, setUserLeagues] = useState(MOCK_LEAGUES);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n\n  // Navigation State\n  const [selectedLeague, setSelectedLeague] = useState(null); // Holds the ID of the selected league\n\n  // Modal States\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [isJoinModalOpen, setIsJoinModalOpen] = useState(false);\n\n  // User ID context\n  const {\n    id: userId,\n    source: userIdSource\n  } = useMemo(() => getUserId(), []);\n\n  // Function to simulate refreshing user leagues (called after creation/joining)\n  const refreshLeagues = useCallback(() => {\n    // In a full application, this would call GET /api/leagues/my to fetch the list from MongoDB\n    console.log(`Leagues refreshed! (Simulating GET /api/leagues/my for user ${userId})`);\n\n    // Simulating the addition of a new league:\n    setUserLeagues(prev => [...prev.filter(l => l.id < 100),\n    // Remove previous simulated leagues\n    {\n      id: Math.random(),\n      name: \"New League (Simulated)\",\n      description: \"Just created! Tap the chevron to view details.\",\n      isOwner: true,\n      rank: 99,\n      points: 0,\n      members: 1\n    }]);\n  }, [userId]);\n\n  // Debounced Search Effect for GET /api/league/search\n  useEffect(() => {\n    if (!searchTerm || searchTerm.length < 3) {\n      setSearchResults([]);\n      return;\n    }\n    const handler = setTimeout(async () => {\n      setIsSearching(true);\n      try {\n        // Calls the GET /api/league/search route\n        const results = await searchPublicLeagues(searchTerm);\n        setSearchResults(results);\n      } catch (e) {\n        console.error(\"Search failed:\", e);\n        setSearchResults([]);\n      } finally {\n        setIsSearching(false);\n      }\n    }, 500); // 500ms debounce delay\n\n    return () => clearTimeout(handler);\n  }, [searchTerm]);\n  const renderLeagueCard = league => {\n    var _league$points;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center transition hover:bg-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col flex-1 min-w-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-white mr-2 truncate\",\n            children: league.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1660,\n            columnNumber: 21\n          }, this), league.isOwner && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs bg-indigo-500 text-white px-2 py-0.5 rounded-full font-semibold flex-shrink-0\",\n            children: \"Owner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1662,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1659,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-400 mb-2 truncate\",\n          children: league.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1665,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-x-4 gap-y-1 text-sm text-gray-300 mt-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(ListOrdered, {\n              size: 14,\n              className: \"text-green-400 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1668,\n              columnNumber: 56\n            }, this), \" Rank: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold ml-1\",\n              children: [\"#\", league.rank || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1668,\n              columnNumber: 120\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1668,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Star, {\n              size: 14,\n              className: \"text-yellow-400 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1669,\n              columnNumber: 56\n            }, this), \" Pts: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold ml-1\",\n              children: ((_league$points = league.points) === null || _league$points === void 0 ? void 0 : _league$points.toLocaleString()) || '0'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1669,\n              columnNumber: 113\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1669,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              size: 14,\n              className: \"text-red-400 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1670,\n              columnNumber: 56\n            }, this), \" \", league.members || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1670,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1667,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1658,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedLeague(league.id) // Set the league ID for navigation\n        ,\n        className: \"p-2 ml-4 text-indigo-400 bg-gray-700 rounded-full hover:bg-indigo-600 hover:text-white transition flex-shrink-0\",\n        children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1677,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1673,\n        columnNumber: 13\n      }, this)]\n    }, league.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1654,\n      columnNumber: 9\n    }, this);\n  };\n\n  // Renders the main League Hub content\n  const renderLeagueHub = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 p-4 pt-8 pb-20 space-y-6 max-w-2xl mx-auto font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-extrabold text-white\",\n      children: \"Leagues Hub\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1685,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-500\",\n      children: [\"**User ID (\", userIdSource, \"):** \", /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs font-mono bg-gray-700 p-1 rounded text-white\",\n        children: userId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1687,\n        columnNumber: 47\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1686,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsCreateModalOpen(true),\n        className: \"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:bg-indigo-700 transition flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 20,\n          className: \"mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1696,\n          columnNumber: 21\n        }, this), \" Create League\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1692,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsJoinModalOpen(true),\n        className: \"flex-1 py-3 bg-green-600 text-white font-bold rounded-xl shadow-lg hover:bg-green-700 transition flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(LogIn, {\n          size: 20,\n          className: \"mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1702,\n          columnNumber: 21\n        }, this), \" Join League\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1698,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1691,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-200 border-b border-gray-700 pb-2 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Shield, {\n          size: 18,\n          className: \"mr-2 text-indigo-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1708,\n          columnNumber: 113\n        }, this), \" My Leagues\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1708,\n        columnNumber: 17\n      }, this), userLeagues.map(renderLeagueCard)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1707,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search public leagues...\",\n        value: searchTerm,\n        onChange: e => setSearchTerm(e.target.value),\n        className: \"w-full p-3 pl-10 bg-gray-800 text-white rounded-xl focus:ring-indigo-500 focus:border-indigo-500 border border-gray-700\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1714,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Search, {\n        size: 20,\n        className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1721,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1713,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-200 border-b border-gray-700 pb-2 flex items-center\",\n        children: [searchTerm ? /*#__PURE__*/_jsxDEV(Search, {\n          size: 18,\n          className: \"mr-2 text-indigo-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1727,\n          columnNumber: 35\n        }, this) : /*#__PURE__*/_jsxDEV(Star, {\n          size: 18,\n          className: \"mr-2 text-yellow-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1727,\n          columnNumber: 90\n        }, this), searchTerm ? 'Search Results' : 'Popular Public Leagues']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1726,\n        columnNumber: 17\n      }, this), isSearching && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 text-center py-4\",\n        children: \"Searching...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1731,\n        columnNumber: 33\n      }, this), !isSearching && searchTerm && searchResults.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 text-center py-4\",\n        children: [\"No public leagues found matching \\\"\", searchTerm, \"\\\".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1734,\n        columnNumber: 21\n      }, this), !isSearching && searchTerm && searchResults.map(league => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center transition hover:bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-white\",\n            children: league.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1741,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 mb-1\",\n            children: league.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1742,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3 text-xs text-gray-300 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                size: 12,\n                className: \"text-red-400 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1744,\n                columnNumber: 68\n              }, this), \" \", league.members || 0, \" Members\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1744,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                size: 12,\n                className: \"text-green-400 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1745,\n                columnNumber: 68\n              }, this), \" \", formatTime(league.startsIn || 86400 * 3)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1745,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1743,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1740,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"py-2 px-4 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700 transition\",\n          children: \"Join League\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1748,\n          columnNumber: 25\n        }, this)]\n      }, league.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1739,\n        columnNumber: 21\n      }, this)), !searchTerm && MOCK_LEAGUES.map(league => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center transition hover:bg-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-bold text-white\",\n            children: league.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1760,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-400 mb-1\",\n            children: league.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1761,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3 text-xs text-gray-300 mt-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                size: 12,\n                className: \"text-red-400 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1763,\n                columnNumber: 68\n              }, this), \" \", league.members, \" Members\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1763,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                size: 12,\n                className: \"text-green-400 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1764,\n                columnNumber: 68\n              }, this), \" Starts in \", formatTime(league.startsIn || 86400)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1764,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1762,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1759,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"py-2 px-4 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700 transition\",\n          children: \"Join League\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1767,\n          columnNumber: 25\n        }, this)]\n      }, `pop-${league.id}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1758,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1725,\n      columnNumber: 13\n    }, this), isCreateModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Create New League\",\n      onClose: () => setIsCreateModalOpen(false),\n      children: /*#__PURE__*/_jsxDEV(LeagueForm, {\n        type: \"create\",\n        onClose: () => setIsCreateModalOpen(false),\n        userId: userId,\n        refreshLeagues: refreshLeagues\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1777,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1776,\n      columnNumber: 17\n    }, this), isJoinModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Join Private League\",\n      onClose: () => setIsJoinModalOpen(false),\n      children: /*#__PURE__*/_jsxDEV(LeagueForm, {\n        type: \"join\",\n        onClose: () => setIsJoinModalOpen(false),\n        userId: userId,\n        refreshLeagues: refreshLeagues\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1788,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1787,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1797,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1684,\n    columnNumber: 9\n  }, this);\n\n  // Main render logic: switch between Hub and Details\n  return selectedLeague ? /*#__PURE__*/_jsxDEV(LeagueDetailsPage, {\n    leagueId: selectedLeague,\n    onBack: () => setSelectedLeague(null),\n    userId: userId\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1803,\n    columnNumber: 9\n  }, this) : renderLeagueHub();\n};\n\n// ----------------------------------------------------\n// TOURNAMENT PAGE\n// ----------------------------------------------------\n_s9(LeaguePage, \"GdhiQu16ynPm1dpg5ozIkOmiskY=\");\n_c11 = LeaguePage;\nconst TournamentPage = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"min-h-screen bg-gray-900 p-4 pt-8 pb-20 flex flex-col items-center justify-center text-center\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-indigo-600/20 border-2 border-indigo-500 p-8 rounded-3xl shadow-2xl max-w-sm\",\n    children: [/*#__PURE__*/_jsxDEV(Trophy, {\n      size: 64,\n      className: \"text-yellow-400 mx-auto mb-4 animate-bounce-slow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1820,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-extrabold text-white mb-3\",\n      children: \"Tournaments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1821,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-lg font-semibold text-gray-200\",\n      children: \"Earn cash rewards by competing in weekly global tournaments.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1822,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 text-2xl font-black text-yellow-300 p-3 bg-indigo-700 rounded-xl shadow-inner\",\n      children: \"COMING SOON...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1825,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1819,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-16\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1829,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 1818,\n  columnNumber: 5\n}, this);\n\n// ----------------------------------------------------\n// PROFILE PAGE\n// ----------------------------------------------------\n_c12 = TournamentPage;\nconst ProfilePage = ({\n  userData\n}) => {\n  const renderTask = task => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-between items-center bg-gray-700 p-3 rounded-xl shadow-inner transition hover:bg-gray-600\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center\",\n      children: [task.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-base text-white ml-3\",\n        children: task.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1842,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1840,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center space-x-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm font-bold text-yellow-400 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Star, {\n          size: 14,\n          className: \"mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1846,\n          columnNumber: 21\n        }, this), \" \", task.points.toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1845,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"py-1 px-3 bg-indigo-600 text-white text-sm font-semibold rounded-lg hover:bg-indigo-700 transition\",\n        children: task.action\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1848,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1844,\n      columnNumber: 13\n    }, this)]\n  }, task.name, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1839,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 p-4 pt-8 pb-20 space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-800 p-6 rounded-2xl shadow-xl border border-gray-700 flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: userData.avatarUrl,\n        alt: \"User Avatar\",\n        className: \"w-16 h-16 rounded-full border-4 border-indigo-500 object-cover\",\n        onError: e => {\n          e.target.onerror = null;\n          e.target.src = \"https://placehold.co/100x100/1e293b/94a3b8?text=AF\";\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1860,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ml-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-extrabold text-white\",\n          children: userData.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1867,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-400\",\n          children: userData.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1868,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm font-medium text-yellow-400 mt-1\",\n          children: [\"Total Score: \", userData.overallScore.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1869,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1866,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1859,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold text-gray-200 border-b border-gray-700 pb-2 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Check, {\n          size: 20,\n          className: \"mr-2 text-green-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1875,\n          columnNumber: 113\n        }, this), \" Today's Tasks\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1875,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: MOCK_TASKS.map(renderTask)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1876,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1874,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"w-full py-3 bg-red-600 text-white font-bold rounded-xl shadow-lg hover:bg-red-700 transition flex items-center justify-center mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(X, {\n        size: 20,\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1883,\n        columnNumber: 17\n      }, this), \" Logout (Mock)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1882,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1886,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1856,\n    columnNumber: 9\n  }, this);\n};\n\n//----------------------------------------------------\n// MAIN APP COMPONENT\n// ----------------------------------------------------\n_c13 = ProfilePage;\nconst App = () => {\n  _s0();\n  // Determine the user ID source (Telegram or Mock) on load\n  const {\n    id: userId,\n    source: userIdSource\n  } = getUserId();\n  const [currentPage, setCurrentPage] = useState('home');\n  const [userData, setUserData] = useState(MOCK_USER);\n  // GameState: 'start', 'active', 'finished', 'expired'\n  const [quizState, setQuizState] = useState({\n    status: 'start',\n    results: null\n  });\n\n  // Mock function to simulate score update\n  const overallScoreUpdater = useCallback(points => {\n    setUserData(prev => ({\n      ...prev,\n      overallScore: prev.overallScore + points\n    }));\n  }, []);\n\n  // Function passed to QuizPage to finalize results\n  const finishQuiz = useCallback(results => {\n    setQuizState({\n      status: 'finished',\n      results\n    });\n  }, []);\n  const renderContent = () => {\n    if (quizState.status === 'active') {\n      return /*#__PURE__*/_jsxDEV(QuizPage, {\n        questions: MOCK_QUESTIONS,\n        finishQuiz: finishQuiz,\n        overallScoreUpdater: overallScoreUpdater\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1919,\n        columnNumber: 20\n      }, this);\n    }\n    switch (currentPage) {\n      case 'home':\n        return /*#__PURE__*/_jsxDEV(HomePage, {\n          userData: userData,\n          setGameState: status => setQuizState(prev => ({\n            ...prev,\n            status\n          })),\n          quizConfig: MOCK_QUIZ_CONFIG,\n          quizState: quizState,\n          overallScoreUpdater: overallScoreUpdater,\n          setPage: setCurrentPage // Pass down page switching function\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1928,\n          columnNumber: 24\n        }, this);\n      case 'league':\n        return /*#__PURE__*/_jsxDEV(LeaguePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1937,\n          columnNumber: 24\n        }, this);\n      case 'tournament':\n        return /*#__PURE__*/_jsxDEV(TournamentPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1939,\n          columnNumber: 24\n        }, this);\n      case 'profile':\n        return /*#__PURE__*/_jsxDEV(ProfilePage, {\n          userData: userData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1941,\n          columnNumber: 24\n        }, this);\n      case 'leaderboard':\n        return /*#__PURE__*/_jsxDEV(GlobalLeaderboard, {\n          setPage: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1943,\n          columnNumber: 24\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 font-['Inter'] relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n                /* Font import for Inter */\n                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');\n                \n                /* Global Dark Theme Background & Scroll Padding */\n                .min-h-screen {\n                    min-height: 100vh;\n                    padding-bottom: 64px; /* Space for the fixed bottom nav */\n                }\n                \n                /* Custom Animation for Modals */\n                @keyframes slide-up {\n                    from { transform: translateY(50px); opacity: 0; }\n                    to { transform: translateY(0); opacity: 1; }\n                }\n                .animate-slide-up {\n                    animation: slide-up 0.3s ease-out forwards;\n                }\n                \n                /* Slow bounce for tournament icon */\n                @keyframes bounce-slow {\n                    0%, 100% { transform: translateY(-5%); }\n                    50% { transform: translateY(0); }\n                }\n                .animate-bounce-slow {\n                    animation: bounce-slow 2s infinite;\n                }\n            `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1952,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-xl mx-auto\",\n      children: renderContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1981,\n      columnNumber: 13\n    }, this), quizState.status !== 'active' && /*#__PURE__*/_jsxDEV(BottomNav, {\n      currentPage: currentPage,\n      setPage: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1987,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1951,\n    columnNumber: 9\n  }, this);\n};\n_s0(App, \"9URzx0KScg74BLeuXFL1HTQ6v/Q=\");\n_c14 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"BottomNav\");\n$RefreshReg$(_c2, \"RankChangeIcon\");\n$RefreshReg$(_c3, \"GlobalLeaderboard\");\n$RefreshReg$(_c4, \"QuizPage\");\n$RefreshReg$(_c5, \"HomePage\");\n$RefreshReg$(_c6, \"Modal\");\n$RefreshReg$(_c7, \"LeagueForm\");\n$RefreshReg$(_c8, \"RankIndicator\");\n$RefreshReg$(_c9, \"StandingsTab\");\n$RefreshReg$(_c0, \"ProgressScheduleTab\");\n$RefreshReg$(_c1, \"InfoSettingsTab\");\n$RefreshReg$(_c10, \"LeagueDetailsPage\");\n$RefreshReg$(_c11, \"LeaguePage\");\n$RefreshReg$(_c12, \"TournamentPage\");\n$RefreshReg$(_c13, \"ProfilePage\");\n$RefreshReg$(_c14, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","Home","Users","Trophy","User","UserPlus","ChevronLeft","ChevronDown","ChevronRight","Zap","RefreshCw","X","Check","Timer","Shield","ListOrdered","Hash","Clock","Plus","LogIn","Search","Lock","Unlock","Star","MessageSquare","ArrowUp","ArrowDown","Minus","Calendar","Settings","Clipboard","Edit","Trash2","RotateCcw","AlertTriangle","Loader","Loader2","CheckCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","MOCK_USER","id","name","username","avatarUrl","overallScore","globalRank","totalPlayers","MOCK_QUIZ_CONFIG","questionsCount","timeLimitSeconds","pointsPerQuestion","totalPoints","initialExpiresIn","MOCK_QUESTIONS","text","options","correctAnswer","MOCK_POPULAR_LEAGUES","description","members","startsIn","rank","MOCK_TASKS","points","action","icon","size","fileName","_jsxFileName","lineNumber","columnNumber","mockLeaderboardData","userName","gamePoints","currentRank","previousRank","triggerVibration","pattern","window","navigator","vibrate","BottomNav","currentPage","setPage","navItems","page","className","children","map","item","isActive","colorClass","onClick","strokeWidth","_c","RankChangeIcon","undefined","diff","_c2","GlobalLeaderboard","_s","sortedData","sort","a","b","user","index","src","avatar","alt","onError","e","target","onerror","toLocaleString","_c3","QuizPage","questions","finishQuiz","overallScoreUpdater","_s2","currentQuestionIndex","setCurrentQuestionIndex","score","setScore","selectedAnswer","setSelectedAnswer","isChecking","setIsChecking","timeLeft","setTimeLeft","currentQuestion","totalQuestions","length","progress","accuracy","toFixed","finishQuizHandler","answered","correct","total","timer","setInterval","prev","clearInterval","handleAnswerClick","option","checkAnswer","isCorrect","prevScore","setTimeout","nextIndex","getAnswerButtonStyle","isSelected","isCorrectAnswer","formatTime","style","width","disabled","_c4","HomePage","userData","setGameState","quizConfig","quizState","_s3","status","handleStartQuiz","handlePlayAgain","renderQuizCard","renderResultsCard","results","_c5","API_BASE_URL","apiKey","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","join","seconds","Math","floor","h","m","generateLeagueCode","characters","result","i","charAt","random","calculateTimeRemaining","endDateStr","end","getTime","now","max","MOCK_LEAGUES","isOwner","MOCK_LEAGUE_DETAILS_DATA","code","startDate","endDate","totalWeeks","currentGameWeek","rankChange","isMe","recentResults","week","topScorer","isEnded","winner","getUserId","_window$Telegram","_window$Telegram$WebA","_window$Telegram$WebA2","tgUser","Telegram","WebApp","initDataUnsafe","toString","source","chars","MAX_RETRIES","fetchWithRetry","url","retryCount","response","fetch","delay","pow","console","warn","Promise","resolve","error","message","Error","createLeague","data","userId","payload","is_public","is_private","creator_id","method","headers","body","JSON","stringify","json","ok","checkJoinCode","user_id","confirmJoin","leagueId","league_id","searchPublicLeagues","term","encodeURIComponent","Modal","title","onClose","stopPropagation","_c6","LeagueForm","type","initialType","refreshLeagues","_s4","setType","leagueName","setLeagueName","setDescription","isPrivate","setIsPrivate","numberOfWeeks","setNumberOfWeeks","showWeeksCollapse","setShowWeeksCollapse","setStartDate","setEndDate","joinCode","setJoinCode","foundLeague","setFoundLeague","isLoading","setIsLoading","setMessage","isSuccess","setIsSuccess","showJoinConfirmation","setShowJoinConfirmation","showJoinSuccess","setShowJoinSuccess","today","minDate","start","setDate","daysToAdd","handleCreateSubmit","leagueData","duration_weeks","start_date","end_date","generatedCode","join_code","handleJoinCheck","league","is_member","handleConfirmPublicJoin","handleConfirmJoin","handleCloseSuccess","renderCreateForm","placeholder","value","onChange","required","rows","min","readOnly","checked","htmlFor","renderJoinForm","member_count","maxLength","toUpperCase","slice","_c7","RankIndicator","_c8","StandingsTab","member","_c9","ProgressScheduleTab","_s5","timeRemaining","useTimeRemaining","gameWeekStatus","progressPercent","_c0","InfoSettingsTab","_s6","copyMessage","setCopyMessage","handleCopyCode","clipboard","writeText","then","el","document","createElement","appendChild","select","execCommand","removeChild","toLocaleDateString","_c1","LeagueDetailsPage","onBack","_s7","activeTab","setActiveTab","renderTabContent","tabClasses","tab","_c10","_s8","time","setTime","interval","prevTime","LeaguePage","_s9","userLeagues","setUserLeagues","searchTerm","setSearchTerm","searchResults","setSearchResults","isSearching","setIsSearching","selectedLeague","setSelectedLeague","isCreateModalOpen","setIsCreateModalOpen","isJoinModalOpen","setIsJoinModalOpen","userIdSource","log","filter","l","handler","clearTimeout","renderLeagueCard","_league$points","renderLeagueHub","_c11","TournamentPage","_c12","ProfilePage","renderTask","task","_c13","App","_s0","setCurrentPage","setUserData","setQuizState","renderContent","_c14","$RefreshReg$"],"sources":["C:/Users/Admin/ProjectfootyIQ/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { \r\n    Home, Users, Trophy, User, UserPlus, ChevronLeft, ChevronDown, ChevronRight, Zap, RefreshCw, X, Check, Timer, \r\n    Shield, ListOrdered, Hash, Clock, Plus, LogIn, Search, Lock, Unlock, Star, MessageSquare,\r\n    ArrowUp, ArrowDown, Minus, Calendar, Settings, Clipboard, Edit, Trash2, RotateCcw, AlertTriangle,\r\n    // FIX: Imported missing Loader icons and CheckCircle\r\n    Loader, Loader2, CheckCircle\r\n} from 'lucide-react';\r\n\r\n// --- MOCK DATA ---\r\n// NOTE: In a real app, this data would be fetched from your Python/MongoDB backend.\r\nconst MOCK_USER = {\r\n    id: 'user_telegram_12345',\r\n    name: \"Alex FootyFan\",\r\n    username: \"@alexff\",\r\n    avatarUrl: \"https://placehold.co/100x100/1e293b/94a3b8?text=AF\", \r\n    overallScore: 14500,\r\n    globalRank: 47,\r\n    totalPlayers: 250999,\r\n};\r\n\r\nconst MOCK_QUIZ_CONFIG = {\r\n    id: \"daily_001\",\r\n    name: \"Golden Boot Legends\",\r\n    questionsCount: 15,\r\n    timeLimitSeconds: 90,\r\n    pointsPerQuestion: 10,\r\n    totalPoints: 150,\r\n    initialExpiresIn: 86400, // 24 hours in seconds\r\n};\r\n\r\nconst MOCK_QUESTIONS = [\r\n    { id: 'q1', text: \"Which player has won the most Ballon d'Or awards?\", options: [\"Lionel Messi\", \"Cristiano Ronaldo\", \"Michel Platini\", \"Johan Cruyff\"], correctAnswer: \"Lionel Messi\" },\r\n    { id: 'q2', text: \"In which year did Leicester City win the Premier League?\", options: [\"2014\", \"2016\", \"2018\", \"2020\"], correctAnswer: \"2016\" },\r\n    { id: 'q3', text: \"What is the official name of the stadium where FC Barcelona plays?\", options: [\"Santiago BernabÃ©u\", \"San Siro\", \"Camp Nou\", \"Anfield\"], correctAnswer: \"Camp Nou\" },\r\n    { id: 'q4', text: \"Which country won the FIFA World Cup in 2014?\", options: [\"Brazil\", \"Argentina\", \"Germany\", \"Spain\"], correctAnswer: \"Germany\" },\r\n    { id: 'q5', text: \"How many substitutes are currently permitted in a standard FIFA match?\", options: [\"3\", \"5\", \"7\", \"Unlimited\"], correctAnswer: \"5\" },\r\n];\r\n\r\nconst MOCK_POPULAR_LEAGUES = [\r\n    { id: 3, name: \"Euro Elite Trivial\", description: \"Test your UCL/UEL knowledge.\", members: 560, startsIn: 3600, rank: 1 },\r\n    { id: 4, name: \"Classic EPL Heads\", description: \"90s and 2000s English football quiz.\", members: 320, startsIn: 10800, rank: 2 },\r\n    { id: 5, name: \"South American Soccer\", description: \"Quiz on CONMEBOL teams and legends.\", members: 150, startsIn: 5400, rank: 3 },\r\n];\r\n\r\nconst MOCK_TASKS = [\r\n    { name: \"Join us on Telegram\", points: 100, action: \"Join\", icon: <MessageSquare size={18} /> },\r\n    { name: \"Invite 5 friends to the game\", points: 1000, action: \"Invite\", icon: <Users size={18} /> },\r\n    { name: \"Claim free 500 points\", points: 500, action: \"Claim\", icon: <Clock size={18} /> },\r\n];\r\n\r\n// --- MOCK DATA (Leaderboard - NEW) ---\r\nconst mockLeaderboardData = [\r\n  { id: 1, userName: \"Anya\", gamePoints: 15230, currentRank: 1, previousRank: 1, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=A\" },\r\n  { id: 2, userName: \"Zenith_Rider\", gamePoints: 12100, currentRank: 2, previousRank: 4, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=ZR\" }, // Rank UP\r\n  { id: 3, userName: \"Shadow_Sniper\", gamePoints: 11950, currentRank: 3, previousRank: 2, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=SS\" }, // Rank DOWN\r\n  { id: 4, userName: \"CodeBreaker\", gamePoints: 11800, currentRank: 4, previousRank: 4, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=CB\" }, // No Change\r\n  { id: 5, userName: \"GalaxyGamer\", gamePoints: 10500, currentRank: 5, previousRank: 7, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=GG\" }, // Rank UP\r\n  { id: 6, userName: \"Pixel_Pirate\", gamePoints: 9800, currentRank: 6, previousRank: 5, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=PP\" }, // Rank DOWN\r\n  { id: 7, userName: \"TheArchitect\", gamePoints: 7550, currentRank: 7, previousRank: null, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=TA\" }, // New User\r\n  { id: 8, userName: \"MysticMage\", gamePoints: 7900, currentRank: 8, previousRank: 8, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=MM\" },\r\n  { id: 9, userName: \"DriftKing\", gamePoints: 6500, currentRank: 9, previousRank: 10, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=DK\" }, // Rank UP\r\n  { id: 10, userName: \"LunarPhoenix\", gamePoints: 5800, currentRank: 10, previousRank: 9, avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=LP\" }, // Rank DOWN\r\n];\r\n\r\n// --- Utility Functions ---\r\n\r\n/**\r\n * Triggers native device vibration for feedback.\r\n */\r\nconst triggerVibration = (pattern) => {\r\n    if (window.navigator && window.navigator.vibrate) {\r\n        // Pattern: [duration_ms, pause_ms, duration_ms, ...]\r\n        window.navigator.vibrate(pattern); \r\n    }\r\n};\r\n\r\n// --- COMPONENTS ---\r\n\r\n/**\r\n * Component for the persistent bottom navigation bar.\r\n */\r\nconst BottomNav = ({ currentPage, setPage }) => {\r\n    const navItems = [\r\n        { name: 'Home', icon: Home, page: 'home' },\r\n        { name: 'League', icon: Users, page: 'league' },\r\n        { name: 'Tournament', icon: Trophy, page: 'tournament' },\r\n        { name: 'Profile', icon: User, page: 'profile' },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700 shadow-2xl z-50\">\r\n            <div className=\"flex justify-around h-16 max-w-xl mx-auto\">\r\n                {navItems.map((item) => {\r\n                    const isActive = currentPage === item.page;\r\n                    const colorClass = isActive ? 'text-indigo-400' : 'text-gray-400 hover:text-indigo-300';\r\n                    return (\r\n                        <button\r\n                            key={item.page}\r\n                            onClick={() => setPage(item.page)}\r\n                            className={`flex flex-col items-center justify-center text-xs font-medium transition-colors ${colorClass} pt-1`}\r\n                        >\r\n                            <item.icon size={24} strokeWidth={isActive ? 2.5 : 2} />\r\n                            <span className=\"mt-1\">{item.name}</span>\r\n                        </button>\r\n                    );\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- LEADERBOARD HELPERS (NEW) ---\r\n\r\n/**\r\n * Component to display the rank change icon (Green Up, Red Down, Gray Dash).\r\n */\r\nconst RankChangeIcon = ({ currentRank, previousRank }) => {\r\n  if (previousRank === null || previousRank === undefined) {\r\n    // New user or initial entry\r\n    return <span className=\"text-indigo-400 font-medium text-xs\">NEW</span>;\r\n  }\r\n\r\n  // Rank logic: a lower number is a better rank.\r\n  if (currentRank < previousRank) {\r\n    // Went up in rank (e.g., from 5th to 3rd)\r\n    const diff = previousRank - currentRank;\r\n    return (\r\n        <span className=\"flex items-center text-green-500 font-bold\">\r\n            <ArrowUp className=\"w-4 h-4 mr-0.5\" />\r\n            <span className=\"text-xs\">{diff}</span>\r\n        </span>\r\n    );\r\n  } else if (currentRank > previousRank) {\r\n    // Went down in rank (e.g., from 3rd to 5th)\r\n    const diff = currentRank - previousRank;\r\n    return (\r\n        <span className=\"flex items-center text-red-500 font-bold\">\r\n            <ArrowDown className=\"w-4 h-4 mr-0.5\" />\r\n            <span className=\"text-xs\">{diff}</span>\r\n        </span>\r\n    );\r\n  } else {\r\n    // No change in rank\r\n    return <Minus className=\"w-4 h-4 text-gray-400\" />;\r\n  }\r\n};\r\n\r\n// --- GLOBAL LEADERBOARD COMPONENT (NEW) ---\r\nconst GlobalLeaderboard = ({ setPage }) => {\r\n\r\n  // Sort the mock data by gamePoints (descending) \r\n  const sortedData = useMemo(() => \r\n    [...mockLeaderboardData].sort((a, b) => b.gamePoints - a.gamePoints)\r\n  , []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 p-4 pt-8 pb-20\">\r\n        <div className=\"max-w-xl mx-auto\">\r\n            {/* Header and Back Button */}\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <button\r\n                    onClick={() => setPage('home')}\r\n                    className=\"flex items-center space-x-1 px-3 py-1.5 bg-gray-800 text-indigo-400 rounded-full shadow-lg border border-gray-700 hover:bg-gray-700 transition duration-150\"\r\n                >\r\n                    <ChevronLeft className=\"w-5 h-5\" />\r\n                    <span className='font-semibold text-sm'>Back</span>\r\n                </button>\r\n                <h1 className=\"text-2xl font-extrabold text-white flex items-center\">\r\n                    <Trophy className=\"w-6 h-6 text-yellow-400 mr-2\" />\r\n                    Global Leaderboard\r\n                </h1>\r\n            </div>\r\n\r\n            {/* Leaderboard Table Card */}\r\n            <div className=\"bg-gray-800 rounded-2xl shadow-2xl border border-gray-700 overflow-hidden\">\r\n                {/* Table Header */}\r\n                <div className=\"grid grid-cols-10 text-xs sm:text-sm font-semibold uppercase text-gray-400 bg-gray-700 p-4\">\r\n                    <div className=\"col-span-1 text-center\">#</div>\r\n                    <div className=\"col-span-2 text-center\">Change</div>\r\n                    <div className=\"col-span-4\">User</div>\r\n                    <div className=\"col-span-3 text-right\">Points</div>\r\n                </div>\r\n\r\n                {/* Table Rows */}\r\n                <div className=\"divide-y divide-gray-700\">\r\n                    {sortedData.map((user, index) => (\r\n                        <div\r\n                            key={user.id}\r\n                            className={`grid grid-cols-10 items-center p-4 transition duration-200 hover:bg-gray-700/50\r\n                            ${index < 3 ? 'font-bold bg-gray-700/30' : 'text-gray-300'}`}\r\n                        >\r\n                            {/* Rank */}\r\n                            <div className=\"col-span-1 text-center\">\r\n                                <span className={`text-lg ${index === 0 ? 'text-yellow-400' : index === 1 ? 'text-gray-300' : index === 2 ? 'text-amber-500' : 'text-gray-400'}`}>\r\n                                    {index + 1}\r\n                                </span>\r\n                            </div>\r\n\r\n                            {/* Rank Change Arrow/Icon */}\r\n                            <div className=\"col-span-2 flex justify-center\">\r\n                                <RankChangeIcon\r\n                                    currentRank={user.currentRank}\r\n                                    previousRank={user.previousRank}\r\n                                />\r\n                            </div>\r\n\r\n                            {/* User Name and Avatar */}\r\n                            <div className=\"col-span-4 flex items-center space-x-3 truncate\"> \r\n                            <img\r\n                                src = {user.avatar}\r\n                                 alt={`${user.userName} Avatar`}\r\n                                  className=\"w-8 h-8 rounded-full object-cover border border-indigo-400 shadow\"\r\n                                        // Added onerror fallback in case the placeholder image fails to load\r\n                                        onError={(e) => { e.target.onerror = null; e.target.src=\"https://placehold.co/40x40/6B7280/fff?text=?\" }}\r\n                                    />\r\n                                <span className=\"text-sm sm:text-base font-semibold truncate\">{user.userName}</span>\r\n                            </div>\r\n\r\n                            {/* Points */}\r\n                            <div className=\"col-span-3 text-right\">\r\n                                <span className=\"text-base font-extrabold text-white\">\r\n                                    {user.gamePoints.toLocaleString()}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n            \r\n            <p className=\"mt-6 text-center text-sm text-gray-500\">\r\n                Mock data is used. Red/Green icons show rank movement since the previous period.\r\n            </p>\r\n        </div>\r\n        <div className=\"h-16\"></div> {/* Nav buffer */}\r\n    </div>\r\n  );\r\n};\r\n\r\n// --- PAGE COMPONENTS ---\r\n\r\n// ----------------------------------------------------\r\n// QUIZ PAGE (Active Quiz State - Embedded within Home Page)\r\n// ----------------------------------------------------\r\nconst QuizPage = ({ questions, finishQuiz, overallScoreUpdater }) => {\r\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n    const [score, setScore] = useState(0);\r\n    const [selectedAnswer, setSelectedAnswer] = useState(null);\r\n    const [isChecking, setIsChecking] = useState(false);\r\n    const [timeLeft, setTimeLeft] = useState(MOCK_QUIZ_CONFIG.timeLimitSeconds);\r\n\r\n    const currentQuestion = questions[currentQuestionIndex];\r\n    const totalQuestions = questions.length;\r\n    const progress = (currentQuestionIndex / totalQuestions) * 100;\r\n    const accuracy = totalQuestions > 0 ? ((score / totalQuestions) * 100).toFixed(0) : 0;\r\n    \r\n    // FIX: Moved finishQuizHandler definition before the useEffect that uses it\r\n    // to resolve \"Cannot access 'finishQuizHandler' before initialization\" error.\r\n    // Cleanup and Finalize Quiz\r\n    const finishQuizHandler = useCallback(() => {\r\n        // Update user's overall score (Mocked)\r\n        overallScoreUpdater(score * MOCK_QUIZ_CONFIG.pointsPerQuestion);\r\n        \r\n        finishQuiz({\r\n            answered: currentQuestionIndex + 1, // Number of questions seen/attempted\r\n            correct: score,\r\n            points: score * MOCK_QUIZ_CONFIG.pointsPerQuestion,\r\n            accuracy: accuracy,\r\n            total: totalQuestions,\r\n        });\r\n    }, [currentQuestionIndex, score, accuracy, totalQuestions, finishQuiz, overallScoreUpdater]);\r\n\r\n    // Timer Effect\r\n    useEffect(() => {\r\n        if (timeLeft <= 0) {\r\n            finishQuizHandler();\r\n            return;\r\n        }\r\n\r\n        const timer = setInterval(() => {\r\n            setTimeLeft(prev => prev - 1);\r\n        }, 1000);\r\n\r\n        return () => clearInterval(timer);\r\n    }, [timeLeft, finishQuizHandler]); \r\n\r\n\r\n    const handleAnswerClick = (option) => {\r\n        if (isChecking) return;\r\n        setSelectedAnswer(option);\r\n    };\r\n\r\n    const checkAnswer = () => {\r\n        if (!selectedAnswer || isChecking) return;\r\n\r\n        setIsChecking(true);\r\n        const isCorrect = selectedAnswer === currentQuestion.correctAnswer;\r\n\r\n        if (isCorrect) {\r\n            setScore(prevScore => prevScore + 1);\r\n            triggerVibration(100); // Short tap for correct\r\n        } else {\r\n            triggerVibration([100, 50, 100]); // Double pulse for incorrect\r\n        }\r\n\r\n        setTimeout(() => {\r\n            setIsChecking(false);\r\n            setSelectedAnswer(null);\r\n            const nextIndex = currentQuestionIndex + 1;\r\n            \r\n            if (nextIndex < totalQuestions) {\r\n                setCurrentQuestionIndex(nextIndex);\r\n            } else {\r\n                finishQuizHandler();\r\n            }\r\n        }, 1200); // Show result for 1.2 seconds\r\n    };\r\n\r\n    // Helper function to determine button styling based on state\r\n    const getAnswerButtonStyle = (option) => {\r\n        const isSelected = option === selectedAnswer;\r\n        \r\n        if (!isChecking) {\r\n            // Default active state\r\n            return isSelected \r\n                ? 'bg-indigo-600 text-white shadow-xl scale-[1.02]' \r\n                : 'bg-gray-700 text-gray-100 hover:bg-gray-600';\r\n        }\r\n\r\n        // Checking/Result state\r\n        const isCorrectAnswer = option === currentQuestion.correctAnswer;\r\n\r\n        if (isCorrectAnswer) {\r\n            return 'bg-green-600 text-white shadow-xl ring-2 ring-green-400';\r\n        } else if (isSelected && !isCorrectAnswer) {\r\n            return 'bg-red-600 text-white shadow-xl ring-2 ring-red-400';\r\n        } else {\r\n            return 'bg-gray-700 text-gray-500 opacity-60';\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 p-4 pt-10 pb-20\">\r\n            <div className=\"flex justify-between items-center mb-6 p-4 bg-gray-800 rounded-xl shadow-lg border border-gray-700\">\r\n                <div className=\"flex items-center text-white\">\r\n                    <Timer size={20} className=\"text-red-400 mr-2\" />\r\n                    <span className=\"text-2xl font-bold\">{formatTime(timeLeft)}</span>\r\n                </div>\r\n                <div className=\"text-sm font-semibold text-gray-300\">\r\n                    {MOCK_QUIZ_CONFIG.name}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"mb-6\">\r\n                <div className=\"flex justify-between text-gray-300 font-semibold text-sm mb-1\">\r\n                    <span>Question {currentQuestionIndex + 1} / {totalQuestions}</span>\r\n                    <span>Correct: {score}</span>\r\n                </div>\r\n                <div className=\"w-full bg-gray-700 rounded-full h-2.5\">\r\n                    <div \r\n                        className=\"bg-indigo-500 h-2.5 rounded-full transition-all duration-500\" \r\n                        style={{ width: `${progress}%` }}\r\n                    ></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-gray-800 p-6 rounded-2xl shadow-2xl mb-6 border border-gray-700\">\r\n                <p className=\"text-xl font-bold text-white mb-6\">\r\n                    {currentQuestion.text}\r\n                </p>\r\n                <div className=\"grid grid-cols-1 gap-3\">\r\n                    {currentQuestion.options.map((option) => (\r\n                        <button\r\n                            key={option}\r\n                            onClick={() => handleAnswerClick(option)}\r\n                            disabled={isChecking}\r\n                            className={`p-4 rounded-xl font-medium text-left transition-all duration-300 transform shadow-md text-base ${getAnswerButtonStyle(option)}`}\r\n                        >\r\n                            <span className=\"flex justify-between items-center\">\r\n                                {option}\r\n                                {isChecking && option === currentQuestion.correctAnswer && <Check size={20} className=\"text-green-200\" />}\r\n                                {isChecking && option === selectedAnswer && option !== currentQuestion.correctAnswer && <X size={20} className=\"text-red-200\" />}\r\n                            </span>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <button\r\n                onClick={checkAnswer}\r\n                disabled={!selectedAnswer || isChecking}\r\n                className=\"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:bg-indigo-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n            >\r\n                {isChecking ? (\r\n                    <>\r\n                        <Loader size={20} className=\"mr-2 animate-spin\" />\r\n                        Processing...\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <ChevronRight size={20} className=\"mr-2\" />\r\n                        Submit & Next\r\n                    </>\r\n                )}\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// ----------------------------------------------------\r\n// HOME PAGE (Main screen content)\r\n// ----------------------------------------------------\r\nconst HomePage = ({ userData, setGameState, quizConfig, quizState, overallScoreUpdater, setPage }) => {\r\n    const [timeLeft, setTimeLeft] = useState(quizConfig.initialExpiresIn);\r\n    \r\n    // Countdown Timer for Quiz Expiration\r\n    useEffect(() => {\r\n        if (quizState.status !== 'start') return;\r\n\r\n        if (timeLeft <= 0) {\r\n            // In a real app, this would reset the quiz config from the server\r\n            setGameState('expired');\r\n            return;\r\n        }\r\n\r\n        const timer = setInterval(() => {\r\n            setTimeLeft(prev => (prev > 0 ? prev - 1 : 0));\r\n        }, 1000);\r\n\r\n        return () => clearInterval(timer);\r\n    }, [timeLeft, quizState.status, setGameState, quizConfig.initialExpiresIn]); // Added dependencies\r\n\r\n    const handleStartQuiz = () => {\r\n        setGameState('active');\r\n    };\r\n\r\n    const handlePlayAgain = () => {\r\n        // Reset local quiz timer for demonstration\r\n        setTimeLeft(quizConfig.initialExpiresIn); \r\n        setGameState('start');\r\n    };\r\n\r\n    const renderQuizCard = () => (\r\n        <div className=\"bg-gray-800 p-5 rounded-2xl shadow-xl border border-gray-700\">\r\n            <h2 className=\"text-xl font-bold text-white mb-4 flex items-center\">\r\n                <Zap size={20} className=\"text-yellow-400 mr-2\" />\r\n                Today's Quiz: {quizConfig.name}\r\n            </h2>\r\n            \r\n            <div className=\"grid grid-cols-2 gap-4 text-sm text-gray-300 mb-6\">\r\n                <div className=\"flex items-center\"><ListOrdered size={16} className=\"text-indigo-400 mr-2\" /> {quizConfig.questionsCount} Questions</div>\r\n                <div className=\"flex items-center\"><Timer size={16} className=\"text-indigo-400 mr-2\" /> {quizConfig.timeLimitSeconds} Seconds</div>\r\n                <div className=\"flex items-center\"><Star size={16} className=\"text-indigo-400 mr-2\" /> {quizConfig.totalPoints} Points</div>\r\n                <div className=\"flex items-center\"><Clock size={16} className=\"text-indigo-400 mr-2\" /> Expires In: <span className=\"text-yellow-400 ml-1 font-semibold\">{formatTime(timeLeft)}</span></div>\r\n            </div>\r\n\r\n            <button\r\n                onClick={handleStartQuiz}\r\n                disabled={timeLeft <= 0}\r\n                className=\"w-full py-3 bg-green-600 text-white font-bold rounded-xl shadow-lg hover:bg-green-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center\"\r\n            >\r\n                {timeLeft > 0 ? <><ChevronRight size={20} className=\"mr-2\" /> Start Quiz</> : \"Quiz Expired\"}\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    const renderResultsCard = () => (\r\n        <div className=\"bg-gray-800 p-5 rounded-2xl shadow-xl border border-gray-700 text-center\">\r\n            <Trophy size={48} className=\"text-yellow-400 mx-auto mb-3\" />\r\n            <h2 className=\"text-2xl font-bold text-white mb-2\">Quiz Results!</h2>\r\n            <div className=\"grid grid-cols-2 gap-3 text-sm text-gray-200 bg-gray-700 p-4 rounded-xl\">\r\n                <div>Answered: <span className=\"font-semibold text-white\">{quizState.results.answered} / {quizState.results.total}</span></div>\r\n                <div>Correct: <span className=\"font-semibold text-white\">{quizState.results.correct}</span></div>\r\n                <div>Points Earned: <span className=\"font-semibold text-green-400\">{quizState.results.points}</span></div>\r\n                <div>Accuracy: <span className=\"font-semibold text-white\">{quizState.results.accuracy}%</span></div>\r\n            </div>\r\n            <button\r\n                onClick={handlePlayAgain}\r\n                className=\"mt-4 w-full py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition\"\r\n            >\r\n                <RefreshCw size={18} className=\"inline mr-2\" /> Check Back Tomorrow\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 p-4 pt-8 pb-20 space-y-6\">\r\n            <h1 className=\"text-2xl font-extrabold text-white\">\r\n                Welcome, <span className=\"text-indigo-400\">{userData.name}</span>!\r\n            </h1>\r\n\r\n            {/* Quiz Section (Top) */}\r\n            {(quizState.status === 'start' || quizState.status === 'expired') && renderQuizCard()}\r\n            {quizState.status === 'finished' && renderResultsCard()}\r\n\r\n\r\n            {/* Overall Score & Leaderboard */}\r\n            <div className=\"bg-gray-800 p-5 rounded-2xl shadow-xl border border-gray-700\">\r\n                <div className=\"flex justify-between items-start mb-3\">\r\n                    <div>\r\n                        <p className=\"text-sm font-medium text-gray-400\">Overall Score</p>\r\n                        <p className=\"text-4xl font-black text-yellow-400\">{userData.overallScore.toLocaleString()}</p>\r\n                    </div>\r\n                    <button\r\n                    onClick={() => setPage('leaderboard')} \r\n                    className=\"flex items-center text-indigo-400 hover:text-indigo-300 font-semibold text-sm p-2 rounded-lg bg-gray-700/50\">\r\n                        View Leaderboard\r\n                        <ChevronRight size={18} className=\"ml-1\" />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"border-t border-gray-700 pt-3 flex items-center text-gray-300\">\r\n                    <ListOrdered size={20} className=\"text-green-400 mr-2\" />\r\n                    <p className=\"font-medium\">\r\n                        Global Rank: <span className=\"text-lg font-bold text-white\">#{userData.globalRank.toLocaleString()}</span> / {userData.totalPlayers.toLocaleString()} players\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Empty space to ensure content is above the Nav */}\r\n            <div className=\"h-16\"></div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// ----------------------------------------------------\r\n// LEAGUE PAGE\r\n// ----------------------------------------------------\r\n\r\n// --- CONFIGURATION AND UTILITIES ---\r\n\r\n// Placeholder for API Key and Base URL\r\nconst API_BASE_URL = 'http://localhost:5000';\r\nconst apiKey = \"\";\r\n\r\n// Helper function to format a Date object into YYYY-MM-DD string\r\nconst formatDate = (date) => {\r\n    const d = new Date(date);\r\n    let month = '' + (d.getMonth() + 1);\r\n    let day = '' + d.getDate();\r\n    const year = d.getFullYear();\r\n\r\n    if (month.length < 2) month = '0' + month;\r\n    if (day.length < 2) day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n};\r\n\r\n// Helper to format time (e.g., from seconds to \"1d 5h\")\r\nconst formatTime = (seconds) => {\r\n    if (seconds < 0) return \"League Ended\";\r\n    const d = Math.floor(seconds / (3600 * 24));\r\n    const h = Math.floor(seconds % (3600 * 24) / 3600);\r\n    const m = Math.floor(seconds % 3600 / 60);\r\n\r\n    if (d > 0) return `${d}d ${h}h`;\r\n    if (h > 0) return `${h}h ${m}m`;\r\n    return `${m}m`;\r\n};\r\n\r\n// Helper for generating a mock code for display if creation succeeds\r\nconst generateLeagueCode = () => {\r\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\r\n    let result = '';\r\n    for (let i = 0; i < 6; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * characters.length));\r\n    }\r\n    return result;\r\n};\r\n\r\n// Converts date string to time remaining in seconds\r\nconst calculateTimeRemaining = (endDateStr) => {\r\n    const end = new Date(endDateStr).getTime();\r\n    const now = Date.now();\r\n    return Math.max(0, Math.floor((end - now) / 1000));\r\n};\r\n\r\n// --- MOCK DATA ---\r\n\r\n// Mock data for league list (minimal detail)\r\nconst MOCK_LEAGUES = [\r\n    { id: 1, name: \"The Champions' Circle\", description: \"Elite-level strategic drafting.\", isOwner: true, rank: 12, points: 55000, members: 15 },\r\n    { id: 2, name: \"Weekend Warriors\", description: \"Casual, fun league with friends.\", isOwner: false, rank: 5, points: 6200, members: 8 },\r\n];\r\n\r\n// Mock data for league details (extensive detail for the new page)\r\nconst MOCK_LEAGUE_DETAILS_DATA = {\r\n    1: { \r\n        id: 1,\r\n        name: \"The Champions' Circle\",\r\n        description: \"Elite-level strategic drafting. For serious players only.\",\r\n        isOwner: true,\r\n        code: \"G8H7P3\",\r\n        startDate: \"2025-10-01\",\r\n        endDate: \"2025-12-01\", // End in the future\r\n        totalWeeks: 9,\r\n        currentGameWeek: 3,\r\n        members: [\r\n            { rank: 1, username: \"Alice\", avatarUrl: \"https://placehold.co/40x40/4F46E5/white?text=A\", points: 8520, rankChange: 1, isMe: false },\r\n            { rank: 2, username: \"Me (The User)\", avatarUrl: \"https://placehold.co/40x40/F59E0B/black?text=ME\", points: 8500, rankChange: 0, isMe: true },\r\n            { rank: 3, username: \"Bob\", avatarUrl: \"https://placehold.co/40x40/EF4444/white?text=B\", points: 7980, rankChange: -1, isMe: false },\r\n            { rank: 4, username: \"Charlie\", avatarUrl: \"https://placehold.co/40x40/10B981/white?text=C\", points: 7010, rankChange: 2, isMe: false },\r\n            { rank: 5, username: \"David\", avatarUrl: \"https://placehold.co/40x40/3B82F6/white?text=D\", points: 6800, rankChange: 0, isMe: false },\r\n        ],\r\n        recentResults: [\r\n            { week: 3, topScorer: \"Charlie\", score: 3200 },\r\n            { week: 2, topScorer: \"Alice\", score: 2800 },\r\n            { week: 1, topScorer: \"Me (The User)\", score: 2500 },\r\n        ],\r\n        isEnded: false,\r\n        winner: null,\r\n    },\r\n    2: {\r\n        id: 2,\r\n        name: \"Weekend Warriors\",\r\n        description: \"Casual, fun league with friends.\",\r\n        isOwner: false,\r\n        code: \"J6K9L1\",\r\n        startDate: \"2025-09-01\",\r\n        endDate: \"2025-10-01\", // End in the past\r\n        totalWeeks: 4,\r\n        currentGameWeek: 4,\r\n        members: [\r\n            { rank: 1, username: \"WinnerBoss\", avatarUrl: \"https://placehold.co/40x40/14B8A6/white?text=W\", points: 10520, rankChange: 0, isMe: false },\r\n            { rank: 2, username: \"Me (The User)\", avatarUrl: \"https://placehold.co/40x40/F59E0B/black?text=ME\", points: 6200, rankChange: 0, isMe: true },\r\n            { rank: 3, username: \"Zeta\", avatarUrl: \"https://placehold.co/40x40/FBBF24/black?text=Z\", points: 5980, rankChange: 0, isMe: false },\r\n        ],\r\n        recentResults: [\r\n            { week: 4, topScorer: \"WinnerBoss\", score: 3000 },\r\n            { week: 3, topScorer: \"Zeta\", score: 2000 },\r\n            { week: 2, topScorer: \"WinnerBoss\", score: 3500 },\r\n        ],\r\n        isEnded: true,\r\n        winner: \"WinnerBoss\",\r\n    }\r\n};\r\n\r\n// --- AUTH LOGIC (Telegram Ready) ---\r\n\r\n/**\r\n * Checks for the Telegram User ID. If not found (i.e., running locally), \r\n * it generates a mock ID.\r\n */\r\nconst getUserId = () => {\r\n    const tgUser = window.Telegram?.WebApp?.initDataUnsafe?.user;\r\n    \r\n    // If running inside Telegram, use the real user ID\r\n    if (tgUser && tgUser.id) {\r\n        return {\r\n            id: tgUser.id.toString(),\r\n            source: 'Telegram'\r\n        };\r\n    }\r\n    \r\n    // Fallback for local development\r\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let id = 'user-';\r\n    for (let i = 0; i < 20; i++) {\r\n        id += chars.charAt(Math.floor(Math.random() * chars.length));\r\n    }\r\n\r\n    return {\r\n        id: id,\r\n        source: 'Mock'\r\n    };\r\n};\r\n\r\n// --- API FETCH UTILITIES WITH EXPONENTIAL BACKOFF ---\r\n\r\nconst MAX_RETRIES = 3;\r\n\r\n/**\r\n * Handles API fetch requests with exponential backoff for retries.\r\n */\r\nconst fetchWithRetry = async (url, options, retryCount = 0) => {\r\n    try {\r\n        const response = await fetch(url, options);\r\n        if (response.status === 429 && retryCount < MAX_RETRIES) {\r\n            const delay = Math.pow(2, retryCount) * 1000;\r\n            console.warn(`Rate limit hit. Retrying in ${delay}ms...`);\r\n            await new Promise(resolve => setTimeout(resolve, delay));\r\n            return fetchWithRetry(url, options, retryCount + 1);\r\n        }\r\n        return response;\r\n    } catch (error) {\r\n        if (retryCount < MAX_RETRIES) {\r\n            const delay = Math.pow(2, retryCount) * 1000;\r\n            console.error(`Network error: ${error.message}. Retrying in ${delay}ms...`);\r\n            await new Promise(resolve => setTimeout(resolve, delay));\r\n            return fetchWithRetry(url, options, retryCount + 1);\r\n        }\r\n        throw new Error('Failed to fetch data after multiple retries.');\r\n    }\r\n};\r\n\r\n/**\r\n * Executes a POST request to create a league.\r\n * Route: POST /api/leagues/create\r\n */\r\nconst createLeague = async (data, userId) => {\r\n    const url = `${API_BASE_URL}/api/leagues/create?key=${apiKey}`;\r\n    const payload = {\r\n        name: data.name,\r\n        description: data.description || '',\r\n        is_public: !data.is_private,\r\n        creator_id: userId // CRITICAL: Identify the user\r\n    };\r\n\r\n    const response = await fetchWithRetry(url, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n    });\r\n\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n        throw new Error(result.error || 'Failed to create league.');\r\n    }\r\n    return result; // Should return { league_id, join_code }\r\n};\r\n\r\n/**\r\n * Executes a POST request to check a join code.\r\n * Route: POST /api/leagues/join/check\r\n */\r\nconst checkJoinCode = async (code, userId) => {\r\n    const url = `${API_BASE_URL}/api/leagues/join/check?key=${apiKey}`;\r\n    const payload = { code, user_id: userId };\r\n\r\n    const response = await fetchWithRetry(url, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n    });\r\n\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n        throw new Error(result.error || 'Invalid or expired league code.');\r\n    }\r\n    return result; // Should return { league_id, name, description }\r\n};\r\n\r\n/**\r\n * Executes a POST request to confirm joining a league.\r\n * Route: POST /api/leagues/join/confirm\r\n */\r\nconst confirmJoin = async (leagueId, userId) => {\r\n    const url = `${API_BASE_URL}/api/leagues/join/confirm?key=${apiKey}`;\r\n    const payload = { league_id: leagueId, user_id: userId };\r\n\r\n    const response = await fetchWithRetry(url, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(payload)\r\n    });\r\n\r\n    const result = await response.json();\r\n    if (!response.ok) {\r\n        throw new Error(result.error || 'Failed to join league.');\r\n    }\r\n    return result; // Should return { message: 'Successfully joined league.' }\r\n};\r\n\r\n/**\r\n * Executes a GET request to search public leagues.\r\n * Route: GET /api/league/search?query=...\r\n */\r\nconst searchPublicLeagues = async (term) => {\r\n    if (!term) return [];\r\n    const url = `${API_BASE_URL}/api/league/search?query=${encodeURIComponent(term)}&key=${apiKey}`;\r\n    \r\n    const response = await fetchWithRetry(url, { method: 'GET' });\r\n    const result = await response.json();\r\n    \r\n    if (!response.ok) {\r\n        console.error(\"Search API Error:\", result.error || 'Unknown search error');\r\n        return [];\r\n    }\r\n    return result; \r\n};\r\n\r\n\r\n// --- UI COMPONENTS ---\r\n\r\nconst Modal = ({ title, onClose, children }) => {\r\n    return (\r\n        <div className=\"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50 p-4\" onClick={onClose}>\r\n            <div \r\n                className=\"bg-gray-800 p-6 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700 transform transition-all duration-300 scale-100\"\r\n                onClick={(e) => e.stopPropagation()} // Prevent closing when clicking inside modal\r\n            >\r\n                <div className=\"flex justify-between items-start mb-4\">\r\n                    <h2 className=\"text-2xl font-bold text-white\">{title}</h2>\r\n                    <button onClick={onClose} className=\"text-gray-400 hover:text-white transition\">\r\n                        <Plus size={24} className=\"transform rotate-45\" />\r\n                    </button>\r\n                </div>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// --- LEAGUE FORM COMPONENT ---\r\n\r\nconst LeagueForm = ({ type: initialType = 'create', onClose, userId, refreshLeagues }) => {\r\n    // Local controlled type so the form can switch between Create/Join tabs\r\n    const [type, setType] = useState(initialType);\r\n    const [leagueName, setLeagueName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [isPrivate, setIsPrivate] = useState(false);\r\n    \r\n    // NEW STATES for Dynamic League Settings\r\n    const [numberOfWeeks, setNumberOfWeeks] = useState(null); \r\n    const [showWeeksCollapse, setShowWeeksCollapse] = useState(false);\r\n    const [startDate, setStartDate] = useState('');\r\n    const [endDate, setEndDate] = useState(''); // Calculated read-only field\r\n\r\n    const [joinCode, setJoinCode] = useState('');\r\n    const [foundLeague, setFoundLeague] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [message, setMessage] = useState('');\r\n    const [isSuccess, setIsSuccess] = useState(false);\r\n\r\n    // NEW STATES for Join Workflow\r\n    const [showJoinConfirmation, setShowJoinConfirmation] = useState(false);\r\n    const [showJoinSuccess, setShowJoinSuccess] = useState(false);\r\n\r\n    // Get today's date for minimum date input value\r\n    const today = new Date();\r\n    const minDate = formatDate(today);\r\n\r\n    // Effect to calculate the End Date dynamically\r\n    useEffect(() => {\r\n        if (startDate && numberOfWeeks > 0) {\r\n            // Create a Date object from the YYYY-MM-DD string\r\n            const start = new Date(startDate);\r\n            \r\n            // Add one day to account for potential timezone shifts when creating the Date object\r\n            // This ensures the calculation starts from the intended day.\r\n            start.setDate(start.getDate() + 1);\r\n\r\n            // Total days to add: Weeks * 7 days\r\n            const daysToAdd = numberOfWeeks * 7;\r\n            \r\n            // The league ends on the last day of the final week, so we add (daysToAdd - 1) days to the start date.\r\n            const end = new Date(start);\r\n            end.setDate(end.getDate() + daysToAdd - 1); \r\n            \r\n            // Format and set the calculated end date\r\n            setEndDate(formatDate(end));\r\n        } else {\r\n            setEndDate(''); // Clear end date if inputs are missing\r\n        }\r\n    }, [startDate, numberOfWeeks]);\r\n\r\n\r\n    // Reset state when the prop initialType changes (e.g., parent toggles Create/Join)\r\n    useEffect(() => {\r\n        setType(initialType);\r\n        setLeagueName('');\r\n        setDescription('');\r\n        setIsPrivate(false);\r\n        setNumberOfWeeks(null);\r\n        setStartDate('');\r\n        setEndDate('');\r\n        setJoinCode('');\r\n        setFoundLeague(null);\r\n        setMessage('');\r\n        setIsSuccess(false);\r\n        setIsLoading(false);\r\n        setShowJoinConfirmation(false);\r\n        setShowJoinSuccess(false);\r\n    }, [initialType]);\r\n\r\n\r\n    const handleCreateSubmit = async () => {\r\n        // --- UPDATED VALIDATION: Check for all required fields ---\r\n        if (!leagueName) {\r\n            setMessage('League name is required.');\r\n            return;\r\n        }\r\n        if (!numberOfWeeks || !startDate) {\r\n             setMessage('Both the Number of Game Weeks and Start Date are required.');\r\n            return;\r\n        }\r\n        // End date should always be set if the above two are set, but checking it ensures data consistency\r\n        if (!endDate) { \r\n             setMessage('Error calculating end date. Please check your start date selection.');\r\n             return;\r\n        }\r\n\r\n        setIsLoading(true);\r\n        setMessage('');\r\n        setIsSuccess(false);\r\n\r\n        const leagueData = { \r\n            name: leagueName, \r\n            description, \r\n            is_private: isPrivate,\r\n            // NEW DATA FOR SUBMISSION\r\n            duration_weeks: numberOfWeeks,\r\n            start_date: startDate,\r\n            end_date: endDate \r\n        };\r\n\r\n        try {\r\n            const result = await createLeague(leagueData, userId);\r\n            \r\n            const generatedCode = result.join_code || generateLeagueCode(); \r\n\r\n            setMessage(\r\n                <span className=\"font-semibold\">\r\n                    League \"{leagueName}\" created successfully! \r\n                    <br/>Share this code: <span className='text-yellow-300'>{generatedCode}</span>\r\n                </span>\r\n            );\r\n            setIsSuccess(true);\r\n            refreshLeagues(); \r\n            \r\n            setTimeout(onClose, 4000);\r\n\r\n        } catch (error) {\r\n            setMessage(error.message || 'Error creating league. Check server connection.');\r\n            setIsSuccess(false);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // SECTION 2: The League Search/Check Function (Updated)\r\n    const handleJoinCheck = async () => {\r\n        // Reset confirmation/success state before checking\r\n        setShowJoinConfirmation(false);\r\n        setShowJoinSuccess(false);\r\n\r\n        if (joinCode.length !== 6) {\r\n            setMessage('Please enter a 6-character code.');\r\n            return;\r\n        }\r\n\r\n\r\n        setIsLoading(true);\r\n        setMessage('');\r\n        setIsSuccess(false);\r\n        setFoundLeague(null);\r\n\r\n        try {\r\n            const league = await checkJoinCode(joinCode, userId);\r\n            if (league.is_member) {\r\n                // If user is already a member, show an error message.\r\n                setMessage(`You are already a member of ${league.name}.`);\r\n                setIsSuccess(false);\r\n            } else {\r\n                  // League found and user is not a member: Start confirmation flow.\r\n            setFoundLeague(league);\r\n            setShowJoinConfirmation(true); // Trigger Popup 1\r\n            setMessage(`Found League: ${league.name}. Confirm to join.`);\r\n            setIsSuccess(true);\r\n            }\r\n        } catch (error) {\r\n            setMessage(error.message || 'League not found or code is invalid.');\r\n            setIsSuccess(false);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // NEW FUNCTION: Handles 'Yes' click on Confirmation Pop-up (Popup 1)\r\n    const handleConfirmPublicJoin = async () => {\r\n        if (!foundLeague) return;\r\n\r\n        // Reset Popup 1\r\n        setShowJoinConfirmation(false); \r\n        setIsLoading(true);\r\n        setMessage('');\r\n        setIsSuccess(false);\r\n\r\n        try {\r\n            await confirmJoin(foundLeague.league_id, userId);\r\n            \r\n            // Success: Trigger Popup 2 and update league list\r\n            refreshLeagues();\r\n            setShowJoinSuccess(true); \r\n            \r\n        } catch (error) {\r\n            // Failure: Go back to search screen with error message\r\n            setMessage(error.message || 'Error confirming join request.');\r\n            setIsSuccess(false);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    // Backwards-compatible wrapper expected by some handlers\r\n    const handleConfirmJoin = async () => {\r\n        return handleConfirmPublicJoin();\r\n    };\r\n\r\n    // NEW FUNCTION: Function to handle the final closing action after success (Popup 2)\r\n    const handleCloseSuccess = () => {\r\n        setFoundLeague(null);\r\n        setShowJoinSuccess(false);\r\n        onClose();\r\n    };\r\n\r\n    const renderCreateForm = () => (\r\n        <div className=\"space-y-4\">\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"League Name (Required)\"\r\n                value={leagueName}\r\n                onChange={(e) => setLeagueName(e.target.value)}\r\n                className=\"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none\"\r\n                disabled={isLoading || isSuccess}\r\n                required\r\n            />\r\n            <textarea\r\n                placeholder=\"Description (Optional)\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                className=\"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none resize-none\"\r\n                rows=\"2\"\r\n                disabled={isLoading || isSuccess}\r\n            ></textarea>\r\n\r\n            {/* --- NEW: Number of Game Weeks Selector (Collapsible) --- */}\r\n            <div className=\"relative z-10\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowWeeksCollapse(!showWeeksCollapse)}\r\n                    className=\"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none flex justify-between items-center text-left hover:bg-gray-600 transition\"\r\n                    disabled={isLoading || isSuccess}\r\n                >\r\n                    <span className={`${!numberOfWeeks ? 'text-gray-400' : 'font-medium'}`}>\r\n                        {numberOfWeeks ? `${numberOfWeeks} Game Week${numberOfWeeks > 1 ? 's' : ''}` : 'Number of Game Weeks (Required)'}\r\n                    </span>\r\n                    <ChevronDown size={20} className={`text-indigo-400 transform transition-transform ${showWeeksCollapse ? 'rotate-180' : ''}`} />\r\n                </button>\r\n                {showWeeksCollapse && (\r\n                    <div className=\"absolute w-full mt-1 bg-gray-700 rounded-lg shadow-2xl border border-indigo-500/50 overflow-hidden\">\r\n                        {[1, 2, 3, 4, 5].map(week => (\r\n                            <button\r\n                                key={week}\r\n                                onClick={() => {\r\n                                    setNumberOfWeeks(week);\r\n                                    setShowWeeksCollapse(false);\r\n                                }}\r\n                                className={`w-full text-left p-3 text-gray-200 hover:bg-indigo-600 transition ${numberOfWeeks === week ? 'bg-indigo-700 font-bold' : ''}`}\r\n                                disabled={isLoading || isSuccess}\r\n                            >\r\n                                Week {week}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n            {/* --------------------------------------------------- */}\r\n\r\n            {/* --- NEW: Start Date and End Date --- */}\r\n            <div className=\"flex gap-4\">\r\n                <div className=\"w-1/2\">\r\n                    <label className=\"text-xs text-gray-400 block mb-1 flex items-center\"><Calendar size={12} className='mr-1'/> Start Date (Required)</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        value={startDate}\r\n                        min={formatDate(new Date())} // Minimum date is today's date\r\n                        onChange={(e) => setStartDate(e.target.value)}\r\n                        className=\"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none\"\r\n                        disabled={isLoading || isSuccess}\r\n                        required\r\n                    />\r\n                </div>\r\n                <div className=\"w-1/2\">\r\n                    <label className=\"text-xs text-gray-400 block mb-1 flex items-center\"><Calendar size={12} className='mr-1'/> Calculated End Date</label>\r\n                    <input\r\n                        type=\"date\"\r\n                        value={endDate}\r\n                        readOnly\r\n                        className=\"w-full p-3 bg-gray-700 text-gray-400 rounded-lg border-none cursor-default\"\r\n                        disabled={true} // Use disabled for grayed out read-only style\r\n                    />\r\n                </div>\r\n            </div>\r\n            {/* ------------------------------------ */}\r\n\r\n            <div className=\"flex items-center\">\r\n                <input\r\n                    id=\"private-league\"\r\n                    type=\"checkbox\"\r\n                    checked={isPrivate}\r\n                    onChange={(e) => setIsPrivate(e.target.checked)}\r\n                    className=\"w-4 h-4 text-indigo-600 bg-gray-700 rounded border-gray-600 focus:ring-indigo-500\"\r\n                    disabled={isLoading || isSuccess}\r\n                />\r\n                <label htmlFor=\"private-league\" className=\"ml-2 text-sm font-medium text-gray-300\">\r\n                    <span className='flex items-center'>\r\n                        This league is a private league {isPrivate ? <Lock size={12} className='ml-1 text-red-400'/> : <Unlock size={12} className='ml-1 text-green-400'/>}\r\n                    </span>\r\n                </label>\r\n            </div>\r\n            {!isSuccess && (\r\n                <button\r\n                    onClick={handleCreateSubmit}\r\n                    className=\"w-full py-3 bg-yellow-500 text-gray-900 font-bold rounded-xl hover:bg-yellow-400 transition disabled:opacity-50 flex items-center justify-center\"\r\n                    disabled={isLoading || !leagueName || !numberOfWeeks || !startDate}\r\n                >\r\n                    {isLoading ? <Loader2 className=\"animate-spin mr-2\" size={20} /> : 'Create League'}\r\n                </button>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const renderJoinForm = () => {\r\n\r\n        // --- 1. SUCCESS POP-UP VIEW (Highest Priority) ---\r\n        if (showJoinSuccess && foundLeague) {\r\n            return (\r\n                <div className=\"flex flex-col items-center justify-center p-8 bg-gray-900/50 rounded-2xl border-2 border-green-500 space-y-4\">\r\n                    <CheckCircle size={48} className=\"text-green-400 animate-pulse\" />\r\n                    <h3 className=\"text-3xl font-extrabold text-white text-center\">\r\n                        CONGRATULATIONS!\r\n                    </h3>\r\n                    <p className=\"text-center text-gray-300 text-lg\">\r\n                        You successfully joined <span className=\"text-yellow-400 font-bold\">{foundLeague.name}</span>!\r\n                    </p>\r\n                    <p className=\"text-center text-sm text-gray-400\">\r\n                        Check the \"My Leagues\" tab to view the league details.\r\n                    </p>\r\n                    <button\r\n                        onClick={handleCloseSuccess}\r\n                        className=\"w-full py-3 mt-4 bg-green-600 text-white font-bold rounded-xl hover:bg-green-500 transition shadow-lg shadow-green-600/30\"\r\n                    >\r\n                        Great, I'm Ready!\r\n                    </button>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        // --- 2. CONFIRMATION POP-UP VIEW (Second Highest Priority) ---\r\n        if (showJoinConfirmation && foundLeague) {\r\n            return (\r\n                <div className=\"flex flex-col items-center p-6 bg-gray-700 rounded-2xl border border-indigo-500/50 space-y-6\">\r\n                    <AlertTriangle size={36} className=\"text-yellow-400\" />\r\n                    <h3 className=\"text-xl font-bold text-white text-center\">\r\n                        Do you want to join <span className=\"text-yellow-400\">{foundLeague.name}</span>?\r\n                    </h3>\r\n                    <p className=\"text-sm text-gray-300 text-center\">\r\n                        This league currently has **{foundLeague.member_count || 1}** members.\r\n                    </p>\r\n                    <div className=\"flex gap-4 w-full\">\r\n                        <button\r\n                            onClick={() => {\r\n                                // Cancel: Go back to search by clearing confirmation state\r\n                                setShowJoinConfirmation(false);\r\n                                setFoundLeague(null);\r\n                                setMessage(\"Confirmation cancelled. Enter a new code to search.\");\r\n                                setIsSuccess(false);\r\n                            }}\r\n                            className=\"w-1/2 py-3 bg-gray-500 text-white font-bold rounded-xl hover:bg-gray-400 transition disabled:opacity-50\"\r\n                            disabled={isLoading}\r\n                        >\r\n                            No, Cancel\r\n                        </button>\r\n                        <button\r\n                            onClick={handleConfirmJoin} // Renamed from handleConfirmPublicJoin to match user's original hook name\r\n                            className=\"w-1/2 py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition disabled:opacity-50 flex items-center justify-center\"\r\n                            disabled={isLoading}\r\n                        >\r\n                            {isLoading ? <Loader2 className=\"animate-spin mr-2\" size={20} /> : <UserPlus size={20} className=\"mr-2\"/>}\r\n                            {isLoading ? 'Joining...' : 'Yes, Join!'}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n         return (\r\n            <div className=\"space-y-4\">\r\n                {/* --- Code Input and Check Button --- */}\r\n                <div className='flex gap-2'></div>\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"6 Digit Alpha-Numeric Code\"\r\n                maxLength={6}\r\n                value={joinCode}\r\n               onChange={(e) => {\r\n                            setJoinCode(e.target.value.toUpperCase().slice(0, 6));\r\n                            // Clear state whenever code is typed\r\n                            setFoundLeague(null);\r\n                            setShowJoinConfirmation(false);\r\n                            setShowJoinSuccess(false);\r\n                            setMessage(null);\r\n                        }}\r\n                className=\"w-full p-3 bg-gray-700 text-white rounded-lg focus:ring-indigo-500 focus:border-indigo-500 border-none uppercase tracking-widest\"\r\n                disabled={isLoading || foundLeague}\r\n            />\r\n            \r\n            {foundLeague && (\r\n                <div className=\"p-4 bg-gray-700 border border-green-500 rounded-lg space-y-2\">\r\n                    <p className='text-sm text-green-400 font-semibold'>League Found:</p>\r\n                    <h3 className=\"text-xl font-bold text-white\">{foundLeague.name}</h3>\r\n                    <p className=\"text-xs text-gray-400\">{foundLeague.description}</p>\r\n                    <p className=\"text-xs text-gray-400 mt-2\">Current Members: **{foundLeague.member_count}**</p>\r\n                </div>\r\n            )}\r\n            \r\n            {!foundLeague ? (\r\n                <button \r\n                    onClick={handleJoinCheck}\r\n                    className=\"w-full py-3 bg-yellow-500 text-gray-900 font-bold rounded-xl hover:bg-yellow-400 transition disabled:opacity-50\"\r\n                    disabled={isLoading || joinCode.length !== 6 || foundLeague !== null}\r\n                >\r\n                   {isLoading ? <Loader2 className=\"animate-spin\" size={20} /> : <Search size={20} />}\r\n                </button>\r\n            ) : (\r\n                <button \r\n                                                // This button now triggers the Confirmation Pop-up instead of directly joining\r\n                            onClick={() => setShowJoinConfirmation(true)}\r\n                            className=\"w-full py-3 bg-green-600 text-white font-bold rounded-xl hover:bg-green-700 transition disabled:opacity-50 shadow-lg shadow-green-600/30\"\r\n                            disabled={isLoading}\r\n                        >\r\n                            Confirm Join\r\n                </button>\r\n            )}\r\n            </div>\r\n        );\r\n     };\r\n\r\n    // SECTION 3: The Main Modal/Form Rendering (JSX) - Global Wrapper\r\n    // Note: The two check/success/confirmation popups (1 & 2 above) completely replace the content of this\r\n    // inner div when their respective conditions are met.\r\n    return (\r\n        <div className=\"fixed inset-0 bg-gray-900 bg-opacity-80 flex justify-center items-center p-4 z-50\">\r\n            <div className=\"bg-gray-800 p-6 rounded-3xl w-full max-w-lg shadow-2xl space-y-6 transform transition-all\">\r\n\r\n                {/* Header (Hidden if success/confirmation popups are active, as they have their own content) */}\r\n                {!showJoinConfirmation && !showJoinSuccess && (\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <h2 className=\"text-2xl font-extrabold text-white\">\r\n                            {type === 'create' ? 'Create New League' : 'Join Existing League'}\r\n                        </h2>\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"text-gray-400 hover:text-white transition p-2 rounded-full hover:bg-gray-700\"\r\n                        >\r\n                            <X size={24} />\r\n                        </button>\r\n                    </div>\r\n                )}\r\n                \r\n                {/* --- Tab Selector (Added for context) --- */}\r\n                {!showJoinConfirmation && !showJoinSuccess && (\r\n                    <div className=\"flex bg-gray-700 rounded-xl p-1\">\r\n                        <button\r\n                            onClick={() => setType('create')}\r\n                            className={`flex-1 py-2 rounded-lg font-semibold transition ${type === 'create' ? 'bg-indigo-600 text-white' : 'text-gray-300 hover:bg-gray-600'}`}\r\n                        >\r\n                            Create\r\n                        </button>\r\n                        <button\r\n                            onClick={() => setType('join')}\r\n                            className={`flex-1 py-2 rounded-lg font-semibold transition ${type === 'join' ? 'bg-indigo-600 text-white' : 'text-gray-300 hover:bg-gray-600'}`}\r\n                        >\r\n                            Join\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n\r\n                {/* --- Form Rendering --- */}\r\n                {type === 'create' ? renderCreateForm() : renderJoinForm()}\r\n\r\n                {/* --- Message Box (Only shown if not in confirmation/success views) --- */}\r\n                {message && !showJoinConfirmation && !showJoinSuccess && (\r\n                    <div className={`p-4 rounded-xl text-center text-sm font-medium transition-all duration-300 ${\r\n                        isSuccess ? 'bg-green-900/50 text-green-300 border border-green-600' : 'bg-red-900/50 text-red-300 border border-red-600'\r\n                    }`}>\r\n                        {message}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n// --- LEAGUE DETAILS PAGE COMPONENTS ---\r\n\r\nconst RankIndicator = ({ rankChange }) => {\r\n    if (rankChange > 0) {\r\n        return <ArrowUp size={16} className=\"text-green-500 ml-1 flex-shrink-0\" />;\r\n    }\r\n    if (rankChange < 0) {\r\n        return <ArrowDown size={16} className=\"text-red-500 ml-1 flex-shrink-0\" />;\r\n    }\r\n    return <Minus size={16} className=\"text-gray-400 ml-1 flex-shrink-0\" />;\r\n};\r\n\r\nconst StandingsTab = ({ league }) => (\r\n    <div className=\"space-y-4\">\r\n        <h3 className=\"text-xl font-bold text-white mb-4 border-b border-gray-700 pb-2\">The Competition</h3>\r\n        \r\n        {/* Standings List */}\r\n        <div className=\"space-y-3\">\r\n            {league.members.sort((a, b) => a.rank - b.rank).map((member) => (\r\n                <div key={member.username} className={`p-3 rounded-xl flex items-center justify-between ${member.isMe ? 'bg-indigo-900 border border-indigo-500 shadow-lg' : 'bg-gray-800 border border-gray-700'}`}>\r\n                    {/* Rank & Momentum */}\r\n                    <div className=\"flex items-center w-1/4\">\r\n                        <span className=\"text-2xl font-extrabold text-yellow-400 mr-2\">#{member.rank}</span>\r\n                        <RankIndicator rankChange={member.rankChange} />\r\n                    </div>\r\n                    \r\n                    {/* User Info */}\r\n                    <div className=\"flex items-center flex-grow\">\r\n                        <img src={member.avatarUrl} alt={member.username} className=\"w-8 h-8 rounded-full object-cover mr-3 border-2 border-gray-600\"/>\r\n                        <span className={`font-semibold ${member.isMe ? 'text-yellow-300' : 'text-white'}`}>{member.username}</span>\r\n                    </div>\r\n\r\n                    {/* Total Points */}\r\n                    <div className=\"text-right w-1/4\">\r\n                        <span className=\"text-lg font-bold text-green-400\">{member.points.toLocaleString()}</span>\r\n                        <p className=\"text-xs text-gray-400\">Pts</p>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n\r\n        <button className=\"w-full py-3 bg-gray-700 text-white font-semibold rounded-xl hover:bg-gray-600 transition flex items-center justify-center mt-6\">\r\n            <ListOrdered size={18} className=\"mr-2\"/> Export Standings to Sheets\r\n        </button>\r\n    </div>\r\n);\r\n\r\nconst ProgressScheduleTab = ({ league }) => {\r\n    const timeRemaining = useTimeRemaining(league.endDate);\r\n    const isEnded = timeRemaining === 0;\r\n\r\n    const gameWeekStatus = `Game Week ${league.currentGameWeek} / ${league.totalWeeks}`;\r\n    const progressPercent = (league.currentGameWeek / league.totalWeeks) * 100;\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4 border-b border-gray-700 pb-2\">The Timeline</h3>\r\n            \r\n            {/* League Progress Bar */}\r\n            <div className=\"p-4 bg-gray-800 rounded-xl border border-gray-700 shadow-md\">\r\n                <div className=\"flex justify-between items-center mb-2\">\r\n                    <p className=\"text-sm font-semibold text-gray-300\">League Progress</p>\r\n                    <p className=\"text-sm font-bold text-indigo-400\">{gameWeekStatus}</p>\r\n                </div>\r\n                <div className=\"w-full bg-gray-700 rounded-full h-2.5\">\r\n                    <div \r\n                        className=\"bg-indigo-500 h-2.5 rounded-full transition-all duration-1000\" \r\n                        style={{ width: `${progressPercent}%` }}\r\n                    ></div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Countdown / Winner */}\r\n            <div className=\"p-4 bg-gray-800 rounded-xl border border-gray-700 shadow-md text-center\">\r\n                {isEnded ? (\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <Trophy size={32} className=\"text-yellow-500 mb-2\"/>\r\n                        <p className=\"text-lg text-gray-300\">Final Winner:</p>\r\n                        <h4 className=\"text-3xl font-extrabold text-yellow-400\">{league.winner}</h4>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <Clock size={32} className=\"text-red-500 mb-2 animate-pulse\"/>\r\n                        <p className=\"text-lg text-gray-300\">League Ends In:</p>\r\n                        <h4 className=\"text-3xl font-extrabold text-white\">{formatTime(timeRemaining)}</h4>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Recent Results */}\r\n            <h4 className=\"text-lg font-bold text-gray-200 mt-6 border-b border-gray-700 pb-1\">Recent Results</h4>\r\n            <div className=\"space-y-2\">\r\n                {league.recentResults.map((result, index) => (\r\n                    <div key={index} className=\"flex justify-between items-center p-3 bg-gray-800 rounded-lg\">\r\n                        <p className=\"text-sm text-gray-400\">Game Week {result.week}</p>\r\n                        <div className=\"text-right\">\r\n                            <p className=\"text-white font-semibold\">{result.topScorer}</p>\r\n                            <p className=\"text-xs text-green-400\">{result.score.toLocaleString()} Pts</p>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <button className=\"w-full py-3 bg-gray-700 text-white font-semibold rounded-xl hover:bg-gray-600 transition flex items-center justify-center mt-6\">\r\n                <ListOrdered size={18} className=\"mr-2\"/> Export Full Schedule\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst InfoSettingsTab = ({ league }) => {\r\n    const [copyMessage, setCopyMessage] = useState('');\r\n\r\n    const handleCopyCode = () => {\r\n        // Use modern clipboard API or fallback\r\n        if (navigator.clipboard) {\r\n            navigator.clipboard.writeText(league.code).then(() => {\r\n                setCopyMessage('Code copied!');\r\n                setTimeout(() => setCopyMessage(''), 2000);\r\n            });\r\n        } else {\r\n            // Fallback for older browsers (or if running in restrictive iframe)\r\n            const el = document.createElement('textarea');\r\n            el.value = league.code;\r\n            document.body.appendChild(el);\r\n            el.select();\r\n            document.execCommand('copy');\r\n            document.body.removeChild(el);\r\n            setCopyMessage('Code copied!');\r\n            setTimeout(() => setCopyMessage(''), 2000);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h3 className=\"text-xl font-bold text-white mb-4 border-b border-gray-700 pb-2\">Administration</h3>\r\n\r\n            {/* League Code */}\r\n            <div className=\"p-4 bg-gray-800 rounded-xl border border-gray-700 shadow-md flex flex-col items-center space-y-3\">\r\n                <p className=\"text-sm font-semibold text-gray-400\">Invite Code</p>\r\n                <h4 className=\"text-5xl font-extrabold text-yellow-400 tracking-widest\">{league.code}</h4>\r\n                <button \r\n                    onClick={handleCopyCode}\r\n                    className=\"flex items-center justify-center py-2 px-6 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition\"\r\n                >\r\n                    <Clipboard size={18} className=\"mr-2\"/> {copyMessage || 'Copy Code'}\r\n                </button>\r\n            </div>\r\n\r\n            {/* Key Dates */}\r\n            <h4 className=\"text-lg font-bold text-gray-200 mt-6 border-b border-gray-700 pb-1 flex items-center\"><Calendar size={16} className=\"mr-2 text-indigo-400\"/> Key Dates</h4>\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"p-3 bg-gray-800 rounded-lg text-center\">\r\n                    <p className=\"text-xs text-gray-400\">Start Date</p>\r\n                    <p className=\"text-sm font-semibold text-white\">{new Date(league.startDate).toLocaleDateString()}</p>\r\n                </div>\r\n                <div className=\"p-3 bg-gray-800 rounded-lg text-center\">\r\n                    <p className=\"text-xs text-gray-400\">End Date</p>\r\n                    <p className=\"text-sm font-semibold text-white\">{new Date(league.endDate).toLocaleDateString()}</p>\r\n                </div>\r\n                <div className=\"col-span-2 p-3 bg-gray-800 rounded-lg text-center\">\r\n                    <p className=\"text-xs text-gray-400\">Total Game Weeks</p>\r\n                    <p className=\"text-sm font-semibold text-white\">{league.totalWeeks}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Member List */}\r\n            <h4 className=\"text-lg font-bold text-gray-200 mt-6 border-b border-gray-700 pb-1 flex items-center\"><Users size={16} className=\"mr-2 text-indigo-400\"/> Members ({league.members.length})</h4>\r\n            <div className=\"space-y-1 max-h-40 overflow-y-auto pr-2\">\r\n                {league.members.map((member) => (\r\n                    <div key={member.username} className=\"flex justify-between items-center p-2 bg-gray-800 rounded-lg border border-gray-700\">\r\n                        <div className=\"flex items-center\">\r\n                            <img src={member.avatarUrl} alt={member.username} className=\"w-6 h-6 rounded-full object-cover mr-2\"/>\r\n                            <span className={`text-sm ${member.isMe ? 'text-yellow-300 font-bold' : 'text-white'}`}>{member.username}</span>\r\n                            {member.rank === 1 && <Trophy size={14} className=\"ml-2 text-yellow-500\"/>}\r\n                        </div>\r\n                        \r\n                        {/* Admin Actions (Owner Only) */}\r\n                        {league.isOwner && !member.isMe && (\r\n                            <button className=\"text-red-400 hover:text-red-500 transition p-1 rounded-full bg-gray-700\">\r\n                                <Trash2 size={16} />\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Admin Actions (Owner Only) */}\r\n            {league.isOwner && (\r\n                <div className=\"pt-4 space-y-3 border-t border-gray-700 mt-6\">\r\n                    <h4 className=\"text-lg font-bold text-red-300\">Owner Actions</h4>\r\n                    \r\n                    {/* Edit Details */}\r\n                    <button className=\"w-full py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition flex items-center justify-center\">\r\n                        <Edit size={18} className=\"mr-2\"/> Edit League Details\r\n                    </button>\r\n\r\n                    {/* Restart League (Appears ONLY if league is ended) */}\r\n                    {league.isEnded ? (\r\n                        <button className=\"w-full py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition flex items-center justify-center\">\r\n                            <RotateCcw size={18} className=\"mr-2\"/> Restart League (Reset Standings)\r\n                        </button>\r\n                    ) : (\r\n                        <div className=\"p-3 bg-yellow-900 text-yellow-300 text-sm rounded-lg flex items-center\">\r\n                            <AlertTriangle size={18} className=\"mr-2\"/> Restart option appears when the league ends.\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LeagueDetailsPage = ({ leagueId, onBack, userId }) => {\r\n    const league = MOCK_LEAGUE_DETAILS_DATA[leagueId] || MOCK_LEAGUE_DETAILS_DATA[1]; // Load mock details\r\n\r\n    const [activeTab, setActiveTab] = useState('standings'); // standings, progress, info\r\n\r\n    const renderTabContent = () => {\r\n        switch (activeTab) {\r\n            case 'standings':\r\n                return <StandingsTab league={league} />;\r\n            case 'progress':\r\n                return <ProgressScheduleTab league={league} />;\r\n            case 'info':\r\n                return <InfoSettingsTab league={league} />;\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const tabClasses = (tab) => \r\n        `flex-1 py-3 text-sm font-bold rounded-t-lg transition-colors ${\r\n            activeTab === tab \r\n                ? 'bg-gray-800 text-yellow-400 border-b-4 border-yellow-400' \r\n                : 'text-gray-400 hover:text-white hover:bg-gray-700'\r\n        }`;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 max-w-2xl mx-auto font-sans\">\r\n            {/* Header */}\r\n            <header className=\"sticky top-0 bg-gray-900/95 backdrop-blur-sm p-4 border-b border-gray-800 z-10\">\r\n                <button \r\n                    onClick={onBack} \r\n                    className=\"absolute left-4 top-1/2 transform -translate-y-1/2 p-2 text-white hover:text-yellow-400 transition\"\r\n                >\r\n                    <ChevronLeft size={24} />\r\n                </button>\r\n                <h1 className=\"text-xl font-extrabold text-white text-center truncate px-10\">{league.name}</h1>\r\n                <p className=\"text-xs text-gray-500 text-center\">{league.description}</p>\r\n            </header>\r\n\r\n            {/* Tab Bar */}\r\n            <div className=\"flex bg-gray-900 border-b border-gray-700 sticky top-[68px] z-10 text-center\">\r\n                <button onClick={() => setActiveTab('standings')} className={tabClasses('standings')}>\r\n                    <ListOrdered size={16} className=\"inline mr-1\"/> Standings\r\n                </button>\r\n                <button onClick={() => setActiveTab('progress')} className={tabClasses('progress')}>\r\n                    <Clock size={16} className=\"inline mr-1\"/> Timeline\r\n                </button>\r\n                <button onClick={() => setActiveTab('info')} className={tabClasses('info')}>\r\n                    <Settings size={16} className=\"inline mr-1\"/> Info\r\n                </button>\r\n            </div>\r\n\r\n            {/* Content Area */}\r\n            <main className=\"p-4 pt-6 pb-20\">\r\n                {renderTabContent()}\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Custom Hook to manage countdown timer\r\nconst useTimeRemaining = (endDateStr) => {\r\n    const [time, setTime] = useState(() => calculateTimeRemaining(endDateStr));\r\n\r\n    useEffect(() => {\r\n        if (time <= 0) return;\r\n\r\n        const interval = setInterval(() => {\r\n            setTime(prevTime => {\r\n                if (prevTime <= 1) {\r\n                    clearInterval(interval);\r\n                    return 0;\r\n                }\r\n                return prevTime - 1;\r\n            });\r\n        }, 1000);\r\n\r\n        return () => clearInterval(interval);\r\n    }, [endDateStr, time]);\r\n\r\n    return time;\r\n};\r\n\r\n\r\n// --- LEAGUE MAIN APP COMPONENT ---\r\n\r\nconst LeaguePage = () => {\r\n    // League Hub States\r\n    const [userLeagues, setUserLeagues] = useState(MOCK_LEAGUES);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [isSearching, setIsSearching] = useState(false);\r\n    \r\n    // Navigation State\r\n    const [selectedLeague, setSelectedLeague] = useState(null); // Holds the ID of the selected league\r\n\r\n    // Modal States\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\r\n    const [isJoinModalOpen, setIsJoinModalOpen] = useState(false);\r\n\r\n    // User ID context\r\n    const { id: userId, source: userIdSource } = useMemo(() => getUserId(), []);\r\n\r\n    // Function to simulate refreshing user leagues (called after creation/joining)\r\n    const refreshLeagues = useCallback(() => {\r\n        // In a full application, this would call GET /api/leagues/my to fetch the list from MongoDB\r\n        console.log(`Leagues refreshed! (Simulating GET /api/leagues/my for user ${userId})`);\r\n        \r\n        // Simulating the addition of a new league:\r\n        setUserLeagues(prev => [\r\n            ...prev.filter(l => l.id < 100), // Remove previous simulated leagues\r\n            { \r\n                id: Math.random(), \r\n                name: \"New League (Simulated)\", \r\n                description: \"Just created! Tap the chevron to view details.\", \r\n                isOwner: true, \r\n                rank: 99, \r\n                points: 0, \r\n                members: 1 \r\n            }\r\n        ]);\r\n    }, [userId]);\r\n\r\n    // Debounced Search Effect for GET /api/league/search\r\n    useEffect(() => {\r\n        if (!searchTerm || searchTerm.length < 3) {\r\n            setSearchResults([]);\r\n            return;\r\n        }\r\n\r\n        const handler = setTimeout(async () => {\r\n            setIsSearching(true);\r\n            try {\r\n                // Calls the GET /api/league/search route\r\n                const results = await searchPublicLeagues(searchTerm);\r\n                setSearchResults(results);\r\n            } catch (e) {\r\n                console.error(\"Search failed:\", e);\r\n                setSearchResults([]);\r\n            } finally {\r\n                setIsSearching(false);\r\n            }\r\n        }, 500); // 500ms debounce delay\r\n\r\n        return () => clearTimeout(handler);\r\n    }, [searchTerm]);\r\n\r\n\r\n    const renderLeagueCard = (league) => (\r\n        <div \r\n            key={league.id} \r\n            className=\"bg-gray-800 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center transition hover:bg-gray-700\"\r\n        >\r\n            <div className=\"flex flex-col flex-1 min-w-0\">\r\n                <div className=\"flex items-center\">\r\n                    <h3 className=\"text-lg font-bold text-white mr-2 truncate\">{league.name}</h3>\r\n                    {league.isOwner && (\r\n                        <span className=\"text-xs bg-indigo-500 text-white px-2 py-0.5 rounded-full font-semibold flex-shrink-0\">Owner</span>\r\n                    )}\r\n                </div>\r\n                <p className=\"text-xs text-gray-400 mb-2 truncate\">{league.description}</p>\r\n                \r\n                <div className=\"flex flex-wrap gap-x-4 gap-y-1 text-sm text-gray-300 mt-1\">\r\n                    <div className=\"flex items-center\"><ListOrdered size={14} className=\"text-green-400 mr-1\" /> Rank: <span className=\"font-semibold ml-1\">#{league.rank || 'N/A'}</span></div>\r\n                    <div className=\"flex items-center\"><Star size={14} className=\"text-yellow-400 mr-1\" /> Pts: <span className=\"font-semibold ml-1\">{league.points?.toLocaleString() || '0'}</span></div>\r\n                    <div className=\"flex items-center\"><Users size={14} className=\"text-red-400 mr-1\" /> {league.members || 0}</div>\r\n                </div>\r\n            </div>\r\n            <button \r\n                onClick={() => setSelectedLeague(league.id)} // Set the league ID for navigation\r\n                className=\"p-2 ml-4 text-indigo-400 bg-gray-700 rounded-full hover:bg-indigo-600 hover:text-white transition flex-shrink-0\"\r\n            >\r\n                <ChevronRight size={20} />\r\n            </button>\r\n        </div>\r\n    );\r\n    \r\n    // Renders the main League Hub content\r\n    const renderLeagueHub = () => (\r\n        <div className=\"min-h-screen bg-gray-900 p-4 pt-8 pb-20 space-y-6 max-w-2xl mx-auto font-sans\">\r\n            <h1 className=\"text-3xl font-extrabold text-white\">Leagues Hub</h1>\r\n            <p className=\"text-sm text-gray-500\">\r\n                **User ID ({userIdSource}):** <span className='text-xs font-mono bg-gray-700 p-1 rounded text-white'>{userId}</span> \r\n            </p>\r\n\r\n            {/* Create/Join Buttons */}\r\n            <div className=\"flex space-x-3\">\r\n                <button \r\n                    onClick={() => setIsCreateModalOpen(true)}\r\n                    className=\"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:bg-indigo-700 transition flex items-center justify-center\"\r\n                >\r\n                    <Plus size={20} className=\"mr-1\" /> Create League\r\n                </button>\r\n                <button\r\n                    onClick={() => setIsJoinModalOpen(true)}\r\n                    className=\"flex-1 py-3 bg-green-600 text-white font-bold rounded-xl shadow-lg hover:bg-green-700 transition flex items-center justify-center\"\r\n                >\r\n                    <LogIn size={20} className=\"mr-1\" /> Join League\r\n                </button>\r\n            </div>\r\n\r\n            {/* User's Leagues List */}\r\n            <div className=\"space-y-3\">\r\n                <h2 className=\"text-xl font-bold text-gray-200 border-b border-gray-700 pb-2 flex items-center\"><Shield size={18} className=\"mr-2 text-indigo-400\"/> My Leagues</h2>\r\n                {userLeagues.map(renderLeagueCard)}\r\n            </div>\r\n\r\n            {/* Search Bar (Uses GET /api/league/search) */}\r\n            <div className=\"relative\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search public leagues...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full p-3 pl-10 bg-gray-800 text-white rounded-xl focus:ring-indigo-500 focus:border-indigo-500 border border-gray-700\"\r\n                />\r\n                <Search size={20} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" />\r\n            </div>\r\n\r\n            {/* Search Results / Popular Leagues */}\r\n            <div className=\"space-y-4\">\r\n                <h2 className=\"text-xl font-bold text-gray-200 border-b border-gray-700 pb-2 flex items-center\">\r\n                    {searchTerm ? <Search size={18} className=\"mr-2 text-indigo-400\"/> : <Star size={18} className=\"mr-2 text-yellow-400\"/>}\r\n                    {searchTerm ? 'Search Results' : 'Popular Public Leagues'}\r\n                </h2>\r\n                \r\n                {isSearching && <p className=\"text-gray-400 text-center py-4\">Searching...</p>}\r\n\r\n                {!isSearching && searchTerm && searchResults.length === 0 && (\r\n                    <p className=\"text-gray-400 text-center py-4\">No public leagues found matching \"{searchTerm}\".</p>\r\n                )}\r\n\r\n                {/* Render Search Results */}\r\n                {!isSearching && searchTerm && searchResults.map((league) => (\r\n                    <div key={league.id} className=\"bg-gray-800 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center transition hover:bg-gray-700\">\r\n                        <div>\r\n                            <h3 className=\"text-lg font-bold text-white\">{league.name}</h3>\r\n                            <p className=\"text-xs text-gray-400 mb-1\">{league.description}</p>\r\n                            <div className=\"flex space-x-3 text-xs text-gray-300 mt-1\">\r\n                                <div className=\"flex items-center\"><Users size={12} className=\"text-red-400 mr-1\" /> {league.members || 0} Members</div>\r\n                                <div className=\"flex items-center\"><Clock size={12} className=\"text-green-400 mr-1\" /> {formatTime(league.startsIn || 86400 * 3)}</div>\r\n                            </div>\r\n                        </div>\r\n                        <button \r\n                            className=\"py-2 px-4 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700 transition\"\r\n                        >\r\n                            Join League\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n\r\n                {/* Render MOCK Popular Leagues when not searching */}\r\n                {!searchTerm && MOCK_LEAGUES.map((league) => (\r\n                    <div key={`pop-${league.id}`} className=\"bg-gray-800 p-4 rounded-xl shadow-md border border-gray-700 flex justify-between items-center transition hover:bg-gray-700\">\r\n                        <div>\r\n                            <h3 className=\"text-lg font-bold text-white\">{league.name}</h3>\r\n                            <p className=\"text-xs text-gray-400 mb-1\">{league.description}</p>\r\n                            <div className=\"flex space-x-3 text-xs text-gray-300 mt-1\">\r\n                                <div className=\"flex items-center\"><Users size={12} className=\"text-red-400 mr-1\" /> {league.members} Members</div>\r\n                                <div className=\"flex items-center\"><Clock size={12} className=\"text-green-400 mr-1\" /> Starts in {formatTime(league.startsIn || 86400)}</div>\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"py-2 px-4 bg-green-600 text-white text-sm font-semibold rounded-lg hover:bg-green-700 transition\">\r\n                            Join League\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n\r\n            {isCreateModalOpen && (\r\n                <Modal title=\"Create New League\" onClose={() => setIsCreateModalOpen(false)}>\r\n                    <LeagueForm \r\n                        type=\"create\" \r\n                        onClose={() => setIsCreateModalOpen(false)} \r\n                        userId={userId}\r\n                        refreshLeagues={refreshLeagues}\r\n                    />\r\n                </Modal>\r\n            )}\r\n\r\n            {isJoinModalOpen && (\r\n                <Modal title=\"Join Private League\" onClose={() => setIsJoinModalOpen(false)}>\r\n                    <LeagueForm \r\n                        type=\"join\" \r\n                        onClose={() => setIsJoinModalOpen(false)} \r\n                        userId={userId}\r\n                        refreshLeagues={refreshLeagues}\r\n                    />\r\n                </Modal>\r\n            )}\r\n            \r\n            <div className=\"h-16\"></div>\r\n        </div>\r\n    );\r\n    \r\n    // Main render logic: switch between Hub and Details\r\n    return selectedLeague ? (\r\n        <LeagueDetailsPage \r\n            leagueId={selectedLeague} \r\n            onBack={() => setSelectedLeague(null)} \r\n            userId={userId}\r\n        />\r\n    ) : (\r\n        renderLeagueHub()\r\n    );\r\n};\r\n\r\n\r\n// ----------------------------------------------------\r\n// TOURNAMENT PAGE\r\n// ----------------------------------------------------\r\nconst TournamentPage = () => (\r\n    <div className=\"min-h-screen bg-gray-900 p-4 pt-8 pb-20 flex flex-col items-center justify-center text-center\">\r\n        <div className=\"bg-indigo-600/20 border-2 border-indigo-500 p-8 rounded-3xl shadow-2xl max-w-sm\">\r\n            <Trophy size={64} className=\"text-yellow-400 mx-auto mb-4 animate-bounce-slow\" />\r\n            <h1 className=\"text-3xl font-extrabold text-white mb-3\">Tournaments</h1>\r\n            <p className=\"text-lg font-semibold text-gray-200\">\r\n                Earn cash rewards by competing in weekly global tournaments.\r\n            </p>\r\n            <div className=\"mt-6 text-2xl font-black text-yellow-300 p-3 bg-indigo-700 rounded-xl shadow-inner\">\r\n                COMING SOON...\r\n            </div>\r\n        </div>\r\n        <div className=\"h-16\"></div>\r\n    </div>\r\n);\r\n\r\n\r\n// ----------------------------------------------------\r\n// PROFILE PAGE\r\n// ----------------------------------------------------\r\nconst ProfilePage = ({ userData }) => {\r\n    const renderTask = (task) => (\r\n        <div key={task.name} className=\"flex justify-between items-center bg-gray-700 p-3 rounded-xl shadow-inner transition hover:bg-gray-600\">\r\n            <div className=\"flex items-center\">\r\n                {task.icon}\r\n                <span className=\"text-base text-white ml-3\">{task.name}</span>\r\n            </div>\r\n            <div className=\"flex items-center space-x-3\">\r\n                <span className=\"text-sm font-bold text-yellow-400 flex items-center\">\r\n                    <Star size={14} className=\"mr-1\" /> {task.points.toLocaleString()}\r\n                </span>\r\n                <button className=\"py-1 px-3 bg-indigo-600 text-white text-sm font-semibold rounded-lg hover:bg-indigo-700 transition\">\r\n                    {task.action}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 p-4 pt-8 pb-20 space-y-6\">\r\n            \r\n            {/* User Info */}\r\n            <div className=\"bg-gray-800 p-6 rounded-2xl shadow-xl border border-gray-700 flex items-center\">\r\n                <img \r\n                    src={userData.avatarUrl} \r\n                    alt=\"User Avatar\" \r\n                    className=\"w-16 h-16 rounded-full border-4 border-indigo-500 object-cover\"\r\n                    onError={(e) => { e.target.onerror = null; e.target.src = \"https://placehold.co/100x100/1e293b/94a3b8?text=AF\" }}\r\n                />\r\n                <div className=\"ml-4\">\r\n                    <h1 className=\"text-2xl font-extrabold text-white\">{userData.name}</h1>\r\n                    <p className=\"text-sm text-gray-400\">{userData.username}</p>\r\n                    <p className=\"text-sm font-medium text-yellow-400 mt-1\">Total Score: {userData.overallScore.toLocaleString()}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tasks Section */}\r\n            <div className=\"space-y-4\">\r\n                <h2 className=\"text-xl font-bold text-gray-200 border-b border-gray-700 pb-2 flex items-center\"><Check size={20} className=\"mr-2 text-green-400\"/> Today's Tasks</h2>\r\n                <div className=\"space-y-3\">\r\n                    {MOCK_TASKS.map(renderTask)}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Logout (Mocked) */}\r\n            <button className=\"w-full py-3 bg-red-600 text-white font-bold rounded-xl shadow-lg hover:bg-red-700 transition flex items-center justify-center mt-8\">\r\n                <X size={20} className=\"mr-2\" /> Logout (Mock)\r\n            </button>\r\n            \r\n            <div className=\"h-16\"></div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\n//----------------------------------------------------\r\n// MAIN APP COMPONENT\r\n// ----------------------------------------------------\r\nconst App = () => {\r\n       // Determine the user ID source (Telegram or Mock) on load\r\n    const { id: userId, source: userIdSource } = getUserId();\r\n\r\n    const [currentPage, setCurrentPage] = useState('home');\r\n    const [userData, setUserData] = useState(MOCK_USER);\r\n    // GameState: 'start', 'active', 'finished', 'expired'\r\n    const [quizState, setQuizState] = useState({ status: 'start', results: null });\r\n\r\n    // Mock function to simulate score update\r\n    const overallScoreUpdater = useCallback((points) => {\r\n        setUserData(prev => ({\r\n            ...prev,\r\n            overallScore: prev.overallScore + points,\r\n        }));\r\n    }, []);\r\n\r\n    // Function passed to QuizPage to finalize results\r\n    const finishQuiz = useCallback((results) => {\r\n        setQuizState({ status: 'finished', results });\r\n    }, []);\r\n\r\n    const renderContent = () => {\r\n        if (quizState.status === 'active') {\r\n            return <QuizPage \r\n                questions={MOCK_QUESTIONS} \r\n                finishQuiz={finishQuiz}\r\n                overallScoreUpdater={overallScoreUpdater}\r\n            />;\r\n        }\r\n\r\n        switch (currentPage) {\r\n            case 'home':\r\n                return <HomePage \r\n                    userData={userData} \r\n                    setGameState={status => setQuizState(prev => ({ ...prev, status }))}\r\n                    quizConfig={MOCK_QUIZ_CONFIG}\r\n                    quizState={quizState}\r\n                    overallScoreUpdater={overallScoreUpdater}\r\n                    setPage={setCurrentPage} // Pass down page switching function\r\n                />;\r\n            case 'league':\r\n                return <LeaguePage />;\r\n            case 'tournament':\r\n                return <TournamentPage />;\r\n            case 'profile':\r\n                return <ProfilePage userData={userData} />;\r\n             case 'leaderboard':\r\n                return <GlobalLeaderboard setPage={setCurrentPage} />;\r\n            default:\r\n                return null;\r\n          \r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-900 font-['Inter'] relative\">\r\n            <style>{`\r\n                /* Font import for Inter */\r\n                @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');\r\n                \r\n                /* Global Dark Theme Background & Scroll Padding */\r\n                .min-h-screen {\r\n                    min-height: 100vh;\r\n                    padding-bottom: 64px; /* Space for the fixed bottom nav */\r\n                }\r\n                \r\n                /* Custom Animation for Modals */\r\n                @keyframes slide-up {\r\n                    from { transform: translateY(50px); opacity: 0; }\r\n                    to { transform: translateY(0); opacity: 1; }\r\n                }\r\n                .animate-slide-up {\r\n                    animation: slide-up 0.3s ease-out forwards;\r\n                }\r\n                \r\n                /* Slow bounce for tournament icon */\r\n                @keyframes bounce-slow {\r\n                    0%, 100% { transform: translateY(-5%); }\r\n                    50% { transform: translateY(0); }\r\n                }\r\n                .animate-bounce-slow {\r\n                    animation: bounce-slow 2s infinite;\r\n                }\r\n            `}</style>\r\n\r\n            <div className=\"max-w-xl mx-auto\">\r\n                {renderContent()}\r\n            </div>\r\n            \r\n            {/* Only show navigation when not in an active quiz */}\r\n            {quizState.status !== 'active' && (\r\n                <BottomNav currentPage={currentPage} setPage={setCurrentPage} />\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}